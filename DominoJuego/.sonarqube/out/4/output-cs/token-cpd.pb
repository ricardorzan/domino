ˇ#
SC:\Users\ricar\Documents\GitHub\domino\DominoJuego\CambiarContrase√±aWindow.xaml.cs
	namespace 	
Domino
 
{ 
public		 

partial		 
class		 $
CambiarContrase√±aWindow		 0
:		1 2
Page		3 7
{

 
private 
readonly 

MenuWindow #

menuWindow$ .
;. /
private 
readonly 
string 
username  (
;( )
public $
CambiarContrase√±aWindow &
(& '
)' (
{ 	
InitializeComponent 
(  
)  !
;! "
} 	
public $
CambiarContrase√±aWindow &
(& '

MenuWindow' 1

menuWindow2 <
,< =
string> D
usernameE M
)M N
{ 	
InitializeComponent 
(  
)  !
;! "
this 
. 

menuWindow 
= 

menuWindow (
;( )
this 
. 
username 
= 
username $
;$ %
} 	
private 
void 
ClickCancel  
(  !
object! '
sender( .
,. /
RoutedEventArgs0 ?
e@ A
)A B
{ 	

menuWindow 
. 
GoBack 
( 
) 
;  
} 	
private 
void 
ClickChangePassword (
(( )
object) /
sender0 6
,6 7
RoutedEventArgs8 G
eH I
)I J
{   	
string!! 
currentPassword!! "
=!!# $"
TextBoxCurrentPassword!!% ;
.!!; <
Password!!< D
;!!D E
string"" 
newPassword"" 
=""  
TextBoxNewPassword""! 3
.""3 4
Password""4 <
;""< =
string## 
confirmation## 
=##  !
TextBoxConfirmation##" 5
.##5 6
Password##6 >
;##> ?
if$$ 
($$ 
!$$ 
string$$ 
.$$ 
IsNullOrEmpty$$ %
($$% &
currentPassword$$& 5
)$$5 6
&&$$7 9
!$$: ;
string$$; A
.$$A B
IsNullOrEmpty$$B O
($$O P
newPassword$$P [
)$$[ \
&&$$] _
!$$` a
string$$a g
.$$g h
IsNullOrEmpty$$h u
($$u v
confirmation	$$v Ç
)
$$Ç É
)
$$É Ñ
{%% 
if&& 
(&& 
newPassword&& 
.&&  
Equals&&  &
(&&& '
confirmation&&' 3
)&&3 4
)&&4 5
{'' 
Proxy(( 
.(( 
MenuServiceClient(( +
server((, 2
=((3 4
new((5 8
Proxy((9 >
.((> ?
MenuServiceClient((? P
(((P Q
)((Q R
;((R S
bool)) 
isPasswordChanged)) *
=))+ ,
server))- 3
.))3 4
ChangePassword))4 B
())B C
username))C K
,))K L
currentPassword))M \
,))\ ]
newPassword))^ i
)))i j
;))j k
server** 
.** 
Close**  
(**  !
)**! "
;**" #
if++ 
(++ 
isPasswordChanged++ )
)++) *
{,, 

MessageBox-- "
.--" #
Show--# '
(--' (

Properties--( 2
.--2 3
	Resources--3 <
.--< =
PasswordChanged--= L
)--L M
;--M N

menuWindow.. "
..." #
GoBack..# )
(..) *
)..* +
;..+ ,
}// 
else00 

LabelAlert11 "
.11" #
Content11# *
=11+ ,

Properties11- 7
.117 8
	Resources118 A
.11A B
IncorrectPassword11B S
;11S T
}22 
else33 

LabelAlert44 
.44 
Content44 &
=44' (

Properties44) 3
.443 4
	Resources444 =
.44= >
PasswordsDoNotMatch44> Q
;44Q R
}55 
else66 

LabelAlert77 
.77 
Content77 "
=77# $

Properties77% /
.77/ 0
	Resources770 9
.779 :
EmptyFields77: E
;77E F
}88 	
}99 
}:: €¬
EC:\Users\ricar\Documents\GitHub\domino\DominoJuego\GameWindow.xaml.cs
	namespace		 	
Domino		
 
{

 
public 

partial 
class 

GameWindow #
:$ %
Window& ,
,, -
Proxy. 3
.3 4 
IGameServiceCallback4 H
,H I
ProxyJ O
.O P 
IChatServiceCallbackP d
{ 
private 
readonly 
object 
content  '
;' (
private 
readonly 
int 
GameId #
;# $
private 
readonly 
string 
username  (
;( )
private 
readonly 
bool 
isHost $
;$ %
private 
string 
[ 
] 
tilesInHand $
=% &
new' *
string+ 1
[1 2
$num2 4
]4 5
;5 6
private 
string 
player2 
=  
null! %
;% &
private 
string 
player3 
=  
null! %
;% &
private 
string 
player4 
=  
null! %
;% &
private 
bool 
isThereOneMule #
=$ %
false& +
;+ ,
private 
string 
highestTile "
=# $
null% )
;) *
private 
int 
highestTilePosition '
;' (
private 
int 

leftNumber 
=  
-! "
$num" #
;# $
private 
int 
rightNumber 
=  !
-" #
$num# $
;$ %
private 
int 
Points 
= 
$num 
; 
private 
int 
TalesInBank 
=  !
$num" $
;$ %
private   
readonly   
Proxy   
.   
ChatServiceClient   0

serverChat  1 ;
=  < =
null  > B
;  B C
private!! 
readonly!! 
Proxy!! 
.!! 
GameServiceClient!! 0

serverGame!!1 ;
=!!< =
null!!> B
;!!B C
private"" 
readonly"" 
InstanceContext"" (
context"") 0
=""1 2
null""3 7
;""7 8
public$$ 

GameWindow$$ 
($$ 
int$$ 
idGame$$ $
,$$$ %
string$$& ,
username$$- 5
,$$5 6
bool$$7 ;
isHost$$< B
)$$B C
{%% 	
InitializeComponent&& 
(&&  
)&&  !
;&&! "
content'' 
='' 
Content'' 
;'' 
this(( 
.(( 
GameId(( 
=(( 
idGame((  
;((  !
this)) 
.)) 
username)) 
=)) 
username)) $
;))$ %
this** 
.** 
isHost** 
=** 
isHost**  
;**  !
context,, 
=,, 
new,, 
InstanceContext,, )
(,,) *
this,,* .
),,. /
;,,/ 0

serverChat-- 
=-- 
new-- 
Proxy-- "
.--" #
ChatServiceClient--# 4
(--4 5
context--5 <
)--< =
;--= >

serverChat.. 
... 
JoinChat.. 
(..  
idGame..  &
,..& '
this..( ,
..., -
username..- 5
)..5 6
;..6 7

serverGame// 
=// 
new// 
Proxy// "
.//" #
GameServiceClient//# 4
(//4 5
context//5 <
)//< =
;//= >

serverGame11 
.11 
JoinCurrentGame11 &
(11& '
idGame11' -
,11- .
this11/ 3
.113 4
username114 <
)11< =
;11= >

serverGame33 
.33 
GetPlayersName33 %
(33% &
GameId33& ,
)33, -
;33- .

serverGame55 
.55 
GetFirstSevenTiles55 )
(55) *
idGame55* 0
)550 1
;551 2
}66 	
public88 
void88 
ReciveNewMember88 #
(88# $
string88$ *
username88+ 3
)883 4
{99 	
if:: 
(:: 
username:: 
!=:: 
this::  
.::  !
username::! )
)::) *
{;; 
bool<< 
	isPlayer2<< 
=<<  
player2<<! (
==<<) +
null<<, 0
;<<0 1
bool== 
	isPlayer3== 
===  
!==! "
	isPlayer2==" +
&&==, .
player2==/ 6
!===7 9
username==: B
&&==C E
player3==F M
====N P
null==Q U
;==U V
bool>> 
	isPlayer4>> 
=>>  
!>>! "
	isPlayer2>>" +
&&>>, .
!>>/ 0
	isPlayer3>>0 9
&&>>: <
player2>>= D
!=>>E G
username>>H P
&&>>Q S
player3>>T [
!=>>\ ^
username>>_ g
&&>>h j
player4>>k r
==>>s u
null>>v z
;>>z {
if?? 
(?? 
	isPlayer2?? 
)?? 
{@@ 
player2AA 
=AA 
usernameAA &
;AA& '
PlayerUsername2BB #
.BB# $
ContentBB$ +
=BB, -
player2BB. 5
;BB5 6
TalesInBankCC 
-=CC  "
$numCC# $
;CC$ %
TextBoxBankDD 
.DD  
TextDD  $
=DD% &
TalesInBankDD' 2
.DD2 3
ToStringDD3 ;
(DD; <
)DD< =
;DD= >
}EE 
ifFF 
(FF 
	isPlayer3FF 
)FF 
{GG 
player3HH 
=HH 
usernameHH &
;HH& '
PlayerUsername3II #
.II# $
ContentII$ +
=II, -
player3II. 5
;II5 6
TalesInBankJJ 
-=JJ  "
$numJJ# $
;JJ$ %
TextBoxBankKK 
.KK  
TextKK  $
=KK% &
TalesInBankKK' 2
.KK2 3
ToStringKK3 ;
(KK; <
)KK< =
;KK= >
StackpanelPlayer3LL %
.LL% &

VisibilityLL& 0
=LL1 2

VisibilityLL3 =
.LL= >
VisibleLL> E
;LLE F
}MM 
ifNN 
(NN 
	isPlayer4NN 
)NN 
{OO 
player4PP 
=PP 
usernamePP &
;PP& '
PlayerUsername4QQ #
.QQ# $
ContentQQ$ +
=QQ, -
player4QQ. 5
;QQ5 6
TalesInBankRR 
-=RR  "
$numRR# $
;RR$ %
TextBoxBankSS 
.SS  
TextSS  $
=SS% &
TalesInBankSS' 2
.SS2 3
ToStringSS3 ;
(SS; <
)SS< =
;SS= >
StackpanelPlayer4TT %
.TT% &

VisibilityTT& 0
=TT1 2

VisibilityTT3 =
.TT= >
VisibleTT> E
;TTE F
}UU 
}VV 
}WW 	
publicYY 
voidYY 
ReciveMembersInGameYY '
(YY' (
stringYY( .
[YY. /
]YY/ 0
membersYY1 8
)YY8 9
{ZZ 	
for[[ 
([[ 
int[[ 
i[[ 
=[[ 
$num[[ 
;[[ 
i[[ 
<[[ 
members[[  '
.[[' (
Length[[( .
;[[. /
i[[0 1
++[[1 3
)[[3 4
{\\ 
ReciveNewMember]] 
(]]  
members]]  '
[]]' (
i]]( )
]]]) *
)]]* +
;]]+ ,
}^^ 
}__ 	
publicaa 
voidaa 
SomeonePutATileaa #
(aa# $
stringaa$ *
usernameaa+ 3
,aa3 4
stringaa5 ;
tileaa< @
,aa@ A
boolaaB F
decisionaaG O
)aaO P
{bb 	 
RemoveTileFromPlayercc  
(cc  !
usernamecc! )
)cc) *
;cc* +
vardd 
	converterdd 
=dd 
newdd  
ImageSourceConverterdd  4
(dd4 5
)dd5 6
;dd6 7
Imageee 
	tileToPutee 
=ee 
newee !
Imageee" '
{ff 
Sourcegg 
=gg 
(gg 
ImageSourcegg %
)gg% &
	convertergg& /
.gg/ 0
ConvertFromStringgg0 A
(ggA B
$strggB K
+ggL M
tileggN R
+ggS T
$strggU [
)gg[ \
,gg\ ]
Widthhh 
=hh 
$numhh 
}ii 
;ii 
DrawInBoardjj 
(jj 
tilejj 
,jj 
	tileToPutjj '
,jj' (
falsejj) .
,jj. /
decisionjj0 8
)jj8 9
;jj9 :
}kk 	
privatemm 
boolmm 
DrawInBoardmm  
(mm  !
stringmm! '
tilemm( ,
,mm, -
Imagemm. 3
	tileToPutmm4 =
,mm= >
boolmm? C
	tileOwnermmD M
,mmM N
boolmmO S
decisionmmT \
)mm\ ]
{nn 	
intoo 
	numberOneoo 
=oo 
intoo 
.oo  
Parseoo  %
(oo% &
tileoo& *
.oo* +
	Substringoo+ 4
(oo4 5
$numoo5 6
,oo6 7
$numoo8 9
)oo9 :
)oo: ;
;oo; <
intpp 
	numberTwopp 
=pp 
intpp 
.pp  
Parsepp  %
(pp% &
tilepp& *
.pp* +
	Substringpp+ 4
(pp4 5
$numpp5 6
,pp6 7
$numpp8 9
)pp9 :
)pp: ;
;pp; <
ifqq 
(qq 
	numberOneqq 
!=qq 
	numberTwoqq &
)qq& '
{rr 
RotateTransformss 
rotateTransformss  /
=ss0 1
newss2 5
RotateTransformss6 E
(ssE F
$numssF H
)ssH I
;ssI J
	tileToPuttt 
.tt 
RenderTransformtt )
=tt* +
rotateTransformtt, ;
;tt; <
	tileToPutuu 
.uu !
RenderTransformOriginuu /
=uu0 1
newuu2 5
Pointuu6 ;
(uu; <
$numuu< ?
,uu? @
$numuuA D
)uuD E
;uuE F
	tileToPutvv 
.vv 
Marginvv  
=vv! "
newvv# &
	Thicknessvv' 0
(vv0 1
$numvv1 3
)vv3 4
;vv4 5
}ww 
boolxx 
isFirstTurnxx 
=xx 

leftNumberxx )
==xx* ,
-xx- .
$numxx. /
&&xx0 2
rightNumberxx3 >
==xx? A
-xxB C
$numxxC D
;xxD E
ifyy 
(yy 
isFirstTurnyy 
)yy 
{zz 
rightNumber{{ 
={{ 
	numberTwo{{ '
;{{' (

leftNumber|| 
=|| 
	numberOne|| &
;||& '
Board}} 
.}} 
Children}} 
.}} 
Add}} "
(}}" #
	tileToPut}}# ,
)}}, -
;}}- .
}~~ 
else 
{
ÄÄ 
bool
ÅÅ 
isLeft
ÅÅ 
=
ÅÅ 
	numberOne
ÅÅ '
==
ÅÅ( *

leftNumber
ÅÅ+ 5
||
ÅÅ6 8
	numberTwo
ÅÅ9 B
==
ÅÅC E

leftNumber
ÅÅF P
;
ÅÅP Q
bool
ÇÇ 
isRight
ÇÇ 
=
ÇÇ 
	numberOne
ÇÇ (
==
ÇÇ) +
rightNumber
ÇÇ, 7
||
ÇÇ8 :
	numberTwo
ÇÇ; D
==
ÇÇE G
rightNumber
ÇÇH S
;
ÇÇS T
bool
ÉÉ 
isBoth
ÉÉ 
=
ÉÉ 
isLeft
ÉÉ $
&&
ÉÉ% '
isRight
ÉÉ( /
;
ÉÉ/ 0
if
ÑÑ 
(
ÑÑ 
isBoth
ÑÑ 
)
ÑÑ 
{
ÖÖ 
decision
ÜÜ 
=
ÜÜ 
ChoseLeftOrRight
ÜÜ /
(
ÜÜ/ 0
	tileOwner
ÜÜ0 9
,
ÜÜ9 :
decision
ÜÜ; C
,
ÜÜC D
	numberOne
ÜÜE N
,
ÜÜN O
	numberTwo
ÜÜP Y
,
ÜÜY Z
	tileToPut
ÜÜ[ d
)
ÜÜd e
;
ÜÜe f
}
áá 
else
àà 
{
ââ 
if
ää 
(
ää 
isLeft
ää 
)
ää 

DrawInLeft
ãã "
(
ãã" #
	numberOne
ãã# ,
,
ãã, -
	numberTwo
ãã. 7
,
ãã7 8
	tileToPut
ãã9 B
)
ããB C
;
ããC D
else
åå 
DrawInRight
çç #
(
çç# $
	numberOne
çç$ -
,
çç- .
	numberTwo
çç/ 8
,
çç8 9
	tileToPut
çç: C
)
ççC D
;
ççD E
}
éé 
}
èè 
return
êê 
decision
êê 
;
êê 
}
ëë 	
private
ìì 
bool
ìì 
ChoseLeftOrRight
ìì %
(
ìì% &
bool
ìì& *
	tileOwner
ìì+ 4
,
ìì4 5
bool
ìì6 :
decision
ìì; C
,
ììC D
int
ììE H
	numberOne
ììI R
,
ììR S
int
ììT W
	numberTwo
ììX a
,
ììa b
Image
ììc h
	tileToPut
ììi r
)
ììr s
{
îî 	
if
ïï 
(
ïï 
	tileOwner
ïï 
)
ïï 
{
ññ 
MessageBoxResult
óó  
result
óó! '
=
óó( )
CustomMessageBox
óó* :
.
óó: ;
	ShowYesNo
óó; D
(
óóD E
$str
óóE P
,
óóP Q
$str
óóR c
+
óód e
	numberOne
óóf o
+
óóp q
$str
óór y
+
óóz {
	numberTwoóó| Ö
,óóÖ Ü
$stróóá ç
,óóç é
$stróóè ñ
)óóñ ó
;óóó ò
if
òò 
(
òò 
result
òò 
==
òò 
MessageBoxResult
òò .
.
òò. /
Yes
òò/ 2
)
òò2 3

DrawInLeft
ôô 
(
ôô 
	numberOne
ôô (
,
ôô( )
	numberTwo
ôô* 3
,
ôô3 4
	tileToPut
ôô5 >
)
ôô> ?
;
ôô? @
else
öö 
{
õõ 
DrawInRight
úú 
(
úú  
	numberOne
úú  )
,
úú) *
	numberTwo
úú+ 4
,
úú4 5
	tileToPut
úú6 ?
)
úú? @
;
úú@ A
return
ùù 
true
ùù 
;
ùù  
}
ûû 
}
üü 
else
†† 
{
°° 
if
¢¢ 
(
¢¢ 
decision
¢¢ 
)
¢¢ 
DrawInRight
££ 
(
££  
	numberOne
££  )
,
££) *
	numberTwo
££+ 4
,
££4 5
	tileToPut
££6 ?
)
££? @
;
££@ A
else
§§ 

DrawInLeft
•• 
(
•• 
	numberOne
•• (
,
••( )
	numberTwo
••* 3
,
••3 4
	tileToPut
••5 >
)
••> ?
;
••? @
}
¶¶ 
return
ßß 
false
ßß 
;
ßß 
}
®® 	
private
™™ 
void
™™ 

DrawInLeft
™™ 
(
™™  
int
™™  #
	numberOne
™™$ -
,
™™- .
int
™™/ 2
	numberTwo
™™3 <
,
™™< =
Image
™™> C
	tileToPut
™™D M
)
™™M N
{
´´ 	
if
¨¨ 
(
¨¨ 
	numberOne
¨¨ 
==
¨¨ 

leftNumber
¨¨ '
)
¨¨' (

leftNumber
≠≠ 
=
≠≠ 
	numberTwo
≠≠ &
;
≠≠& '
else
ÆÆ 
{
ØØ 
if
∞∞ 
(
∞∞ 
	numberOne
∞∞ 
!=
∞∞  
	numberTwo
∞∞! *
)
∞∞* +
{
±± 
RotateTransform
≤≤ #
rotateTransform
≤≤$ 3
=
≤≤4 5
new
≤≤6 9
RotateTransform
≤≤: I
(
≤≤I J
-
≤≤J K
$num
≤≤K M
)
≤≤M N
;
≤≤N O
	tileToPut
≥≥ 
.
≥≥ 
RenderTransform
≥≥ -
=
≥≥. /
rotateTransform
≥≥0 ?
;
≥≥? @
}
¥¥ 

leftNumber
µµ 
=
µµ 
	numberOne
µµ &
;
µµ& '
}
∂∂ 
Board
∑∑ 
.
∑∑ 
Children
∑∑ 
.
∑∑ 
Insert
∑∑ !
(
∑∑! "
$num
∑∑" #
,
∑∑# $
	tileToPut
∑∑% .
)
∑∑. /
;
∑∑/ 0
}
∏∏ 	
private
∫∫ 
void
∫∫ 
DrawInRight
∫∫  
(
∫∫  !
int
∫∫! $
	numberOne
∫∫% .
,
∫∫. /
int
∫∫0 3
	numberTwo
∫∫4 =
,
∫∫= >
Image
∫∫? D
	tileToPut
∫∫E N
)
∫∫N O
{
ªª 	
if
ºº 
(
ºº 
	numberOne
ºº 
==
ºº 
rightNumber
ºº (
)
ºº( )
{
ΩΩ 
if
ææ 
(
ææ 
	numberOne
ææ 
!=
ææ  
	numberTwo
ææ! *
)
ææ* +
{
øø 
RotateTransform
¿¿ #
rotateTransform
¿¿$ 3
=
¿¿4 5
new
¿¿6 9
RotateTransform
¿¿: I
(
¿¿I J
-
¿¿J K
$num
¿¿K M
)
¿¿M N
;
¿¿N O
	tileToPut
¡¡ 
.
¡¡ 
RenderTransform
¡¡ -
=
¡¡. /
rotateTransform
¡¡0 ?
;
¡¡? @
}
¬¬ 
rightNumber
√√ 
=
√√ 
	numberTwo
√√ '
;
√√' (
}
ƒƒ 
else
≈≈ 
{
∆∆ 
rightNumber
«« 
=
«« 
	numberOne
«« '
;
««' (
}
»» 
Board
…… 
.
…… 
Children
…… 
.
…… 
Add
…… 
(
…… 
	tileToPut
…… (
)
……( )
;
……) *
}
   	
private
ÃÃ 
void
ÃÃ "
RemoveTileFromPlayer
ÃÃ )
(
ÃÃ) *
string
ÃÃ* 0
username
ÃÃ1 9
)
ÃÃ9 :
{
ÕÕ 	
if
ŒŒ 
(
ŒŒ 
player2
ŒŒ 
==
ŒŒ 
username
ŒŒ #
)
ŒŒ# $
TilesPlayer2
œœ 
.
œœ 
Children
œœ %
.
œœ% &
RemoveAt
œœ& .
(
œœ. /
TilesPlayer2
œœ/ ;
.
œœ; <
Children
œœ< D
.
œœD E
Count
œœE J
-
œœK L
$num
œœM N
)
œœN O
;
œœO P
else
–– 
{
—— 
if
““ 
(
““ 
player3
““ 
==
““ 
username
““ '
)
““' (
TilesPlayer3
””  
.
””  !
Children
””! )
.
””) *
RemoveAt
””* 2
(
””2 3
TilesPlayer3
””3 ?
.
””? @
Children
””@ H
.
””H I
Count
””I N
-
””O P
$num
””Q R
)
””R S
;
””S T
else
‘‘ 
TilesPlayer4
’’  
.
’’  !
Children
’’! )
.
’’) *
RemoveAt
’’* 2
(
’’2 3
TilesPlayer4
’’3 ?
.
’’? @
Children
’’@ H
.
’’H I
Count
’’I N
-
’’O P
$num
’’Q R
)
’’R S
;
’’S T
}
÷÷ 
}
◊◊ 	
public
ŸŸ 
void
ŸŸ 
SomeoneTookATile
ŸŸ $
(
ŸŸ$ %
string
ŸŸ% +
username
ŸŸ, 4
)
ŸŸ4 5
{
⁄⁄ 	
var
€€ 
	converter
€€ 
=
€€ 
new
€€ "
ImageSourceConverter
€€  4
(
€€4 5
)
€€5 6
;
€€6 7
Image
‹‹ 
	tileToPut
‹‹ 
=
‹‹ 
new
‹‹ !
Image
‹‹" '
{
›› 
Source
ﬁﬁ 
=
ﬁﬁ 
(
ﬁﬁ 
ImageSource
ﬁﬁ %
)
ﬁﬁ% &
	converter
ﬁﬁ& /
.
ﬁﬁ/ 0
ConvertFromString
ﬁﬁ0 A
(
ﬁﬁA B
$str
ﬁﬁB [
)
ﬁﬁ[ \
,
ﬁﬁ\ ]
Width
ﬂﬂ 
=
ﬂﬂ 
$num
ﬂﬂ 
}
‡‡ 
;
‡‡ 
if
‚‚ 
(
‚‚ 
player2
‚‚ 
==
‚‚ 
username
‚‚ #
)
‚‚# $
TilesPlayer2
„„ 
.
„„ 
Children
„„ %
.
„„% &
Add
„„& )
(
„„) *
	tileToPut
„„* 3
)
„„3 4
;
„„4 5
else
‰‰ 
{
ÂÂ 
if
ÊÊ 
(
ÊÊ 
player3
ÊÊ 
==
ÊÊ 
username
ÊÊ '
)
ÊÊ' (
TilesPlayer3
ÁÁ  
.
ÁÁ  !
Children
ÁÁ! )
.
ÁÁ) *
Add
ÁÁ* -
(
ÁÁ- .
	tileToPut
ÁÁ. 7
)
ÁÁ7 8
;
ÁÁ8 9
else
ËË 
TilesPlayer4
ÈÈ  
.
ÈÈ  !
Children
ÈÈ! )
.
ÈÈ) *
Add
ÈÈ* -
(
ÈÈ- .
	tileToPut
ÈÈ. 7
)
ÈÈ7 8
;
ÈÈ8 9
}
ÍÍ 
TalesInBank
ÏÏ 
-=
ÏÏ 
$num
ÏÏ 
;
ÏÏ 
TextBoxBank
ÌÌ 
.
ÌÌ 
Text
ÌÌ 
=
ÌÌ 
TalesInBank
ÌÌ *
.
ÌÌ* +
ToString
ÌÌ+ 3
(
ÌÌ3 4
)
ÌÌ4 5
;
ÌÌ5 6
}
ÓÓ 	
public
 
string
 
SendHighestTile
 %
(
% &
)
& '
{
ÒÒ 	!
highestTilePosition
ÚÚ 
=
ÚÚ  !
$num
ÚÚ" #
;
ÚÚ# $
highestTile
ÛÛ 
=
ÛÛ 
null
ÛÛ 
;
ÛÛ 
int
ÙÙ 
count
ÙÙ 
=
ÙÙ 
$num
ÙÙ 
;
ÙÙ 
foreach
ıı 
(
ıı 
string
ıı 
tile
ıı  
in
ıı! #
tilesInHand
ıı$ /
)
ıı/ 0
{
ˆˆ 
if
˜˜ 
(
˜˜ 
tile
˜˜ 
==
˜˜ 
null
˜˜  
)
˜˜  !
break
¯¯ 
;
¯¯ 
int
˘˘ 
	numberOne
˘˘ 
=
˘˘ 
int
˘˘  #
.
˘˘# $
Parse
˘˘$ )
(
˘˘) *
tile
˘˘* .
.
˘˘. /
	Substring
˘˘/ 8
(
˘˘8 9
$num
˘˘9 :
,
˘˘: ;
$num
˘˘< =
)
˘˘= >
)
˘˘> ?
;
˘˘? @
int
˙˙ 
	numberTwo
˙˙ 
=
˙˙ 
int
˙˙  #
.
˙˙# $
Parse
˙˙$ )
(
˙˙) *
tile
˙˙* .
.
˙˙. /
	Substring
˙˙/ 8
(
˙˙8 9
$num
˙˙9 :
,
˙˙: ;
$num
˙˙< =
)
˙˙= >
)
˙˙> ?
;
˙˙? @
bool
¸¸ 
replace
¸¸ 
=
¸¸ 
false
¸¸ $
;
¸¸$ %
if
˛˛ 
(
˛˛ 
highestTile
˛˛ 
==
˛˛  "
null
˛˛# '
)
˛˛' (
replace
ˇˇ 
=
ˇˇ 
true
ˇˇ "
;
ˇˇ" #
else
ÄÄ 
{
ÅÅ 
if
ÇÇ 
(
ÇÇ 
	numberOne
ÇÇ !
==
ÇÇ" $
	numberTwo
ÇÇ% .
)
ÇÇ. /
replace
ÉÉ 
=
ÉÉ  !

ThisIsMule
ÉÉ" ,
(
ÉÉ, -
	numberOne
ÉÉ- 6
)
ÉÉ6 7
;
ÉÉ7 8
else
ÑÑ 
replace
ÖÖ 
=
ÖÖ  !
ThisIsNotMule
ÖÖ" /
(
ÖÖ/ 0
tile
ÖÖ0 4
)
ÖÖ4 5
;
ÖÖ5 6
}
ÜÜ 
if
áá 
(
áá 
replace
áá 
)
áá 
{
àà 
highestTile
ââ 
=
ââ  !
tile
ââ" &
;
ââ& '!
highestTilePosition
ää '
=
ää( )
count
ää* /
;
ää/ 0
}
ãã 
if
åå 
(
åå 
	numberOne
åå 
==
åå 
	numberTwo
åå  )
)
åå) *
isThereOneMule
çç "
=
çç# $
true
çç% )
;
çç) *
count
éé 
++
éé 
;
éé 
}
èè 
return
êê 
highestTile
êê 
;
êê 
}
ëë 	
private
ìì 
bool
ìì 
ThisIsNotMule
ìì "
(
ìì" #
string
ìì# )
tile
ìì* .
)
ìì. /
{
îî 	
if
ïï 
(
ïï 
!
ïï 
isThereOneMule
ïï 
)
ïï  
{
ññ 
int
óó 
weight
óó 
=
óó 
int
óó  
.
óó  !
Parse
óó! &
(
óó& '
tile
óó' +
)
óó+ ,
;
óó, -
int
òò 
highestWeight
òò !
=
òò" #
int
òò$ '
.
òò' (
Parse
òò( -
(
òò- .
highestTile
òò. 9
)
òò9 :
;
òò: ;
if
ôô 
(
ôô 
weight
ôô 
>
ôô 
highestWeight
ôô *
)
ôô* +
return
öö 
true
öö 
;
öö  
}
õõ 
return
úú 
false
úú 
;
úú 
}
ùù 	
private
üü 
bool
üü 

ThisIsMule
üü 
(
üü  
int
üü  #
	numberOne
üü$ -
)
üü- .
{
†† 	
if
°° 
(
°° 
isThereOneMule
°° 
)
°° 
{
¢¢ 
int
££ 
highestNumberOne
££ $
=
££% &
int
££' *
.
££* +
Parse
££+ 0
(
££0 1
highestTile
££1 <
.
££< =
	Substring
££= F
(
££F G
$num
££G H
,
££H I
$num
££J K
)
££K L
)
££L M
;
££M N
if
§§ 
(
§§ 
	numberOne
§§ 
>
§§ 
highestNumberOne
§§  0
)
§§0 1
return
•• 
true
•• 
;
••  
}
¶¶ 
else
ßß 
return
®® 
true
®® 
;
®® 
return
©© 
false
©© 
;
©© 
}
™™ 	
public
¨¨ 
void
¨¨ 

IsYourTurn
¨¨ 
(
¨¨ 
bool
¨¨ #
isFirstTurn
¨¨$ /
)
¨¨/ 0
{
≠≠ 	
int
ÆÆ !
numberOfTilesToPlay
ÆÆ #
=
ÆÆ$ %
$num
ÆÆ& '
;
ÆÆ' (
int
ØØ 
count
ØØ 
=
ØØ 
$num
ØØ 
;
ØØ 
if
∞∞ 
(
∞∞ 
isFirstTurn
∞∞ 
)
∞∞ 
{
±± 
foreach
≤≤ 
(
≤≤ 
Image
≤≤ 
image
≤≤ $
in
≤≤% '
TilesPlayer1
≤≤( 4
.
≤≤4 5
Children
≤≤5 =
)
≤≤= >
{
≥≥ 
if
¥¥ 
(
¥¥ 
count
¥¥ 
==
¥¥  !
highestTilePosition
¥¥! 4
)
¥¥4 5
{
µµ 
image
∂∂ 
.
∂∂ 
	AllowDrop
∂∂ '
=
∂∂( )
true
∂∂* .
;
∂∂. /
image
∑∑ 
.
∑∑ 
Opacity
∑∑ %
=
∑∑& '
$num
∑∑( )
;
∑∑) *
image
∏∏ 
.
∏∏ !
MouseLeftButtonDown
∏∏ 1
+=
∏∏2 4
new
∏∏5 8%
MouseButtonEventHandler
∏∏9 P
(
∏∏P Q
TileSelected
∏∏Q ]
)
∏∏] ^
;
∏∏^ _
break
ππ 
;
ππ 
}
∫∫ 
count
ªª 
++
ªª 
;
ªª 
}
ºº 
}
ΩΩ 
else
ææ 
{
øø "
LookForAPossibleTile
¿¿ $
(
¿¿$ %
out
¿¿% (!
numberOfTilesToPlay
¿¿) <
,
¿¿< =
out
¿¿> A
int
¿¿B E
[
¿¿E F
]
¿¿F G
tilesToPlay
¿¿H S
)
¿¿S T
;
¿¿T U
if
¡¡ 
(
¡¡ !
numberOfTilesToPlay
¡¡ '
!=
¡¡( *
$num
¡¡+ ,
)
¡¡, -!
EnablePossibleTiles
¬¬ '
(
¬¬' (
tilesToPlay
¬¬( 3
)
¬¬3 4
;
¬¬4 5
else
√√ 
{
ƒƒ 
if
≈≈ 
(
≈≈ 
TalesInBank
≈≈ #
>
≈≈$ %
$num
≈≈& '
)
≈≈' (
{
∆∆ 

serverGame
«« "
.
««" #
TakeFromTheBank
««# 2
(
««2 3
GameId
««3 9
)
««9 :
;
««: ;
TalesInBank
»» #
-=
»»$ &
$num
»»' (
;
»»( )
TextBoxBank
…… #
.
……# $
Text
……$ (
=
……) *
TalesInBank
……+ 6
.
……6 7
ToString
……7 ?
(
……? @
)
……@ A
;
……A B
}
   
else
ÀÀ 
{
ÃÃ 
ChatBox
ÕÕ 
.
ÕÕ  

AppendText
ÕÕ  *
(
ÕÕ* +

Properties
ÕÕ+ 5
.
ÕÕ5 6
	Resources
ÕÕ6 ?
.
ÕÕ? @
NoMoreTilesInBank
ÕÕ@ Q
)
ÕÕQ R
;
ÕÕR S
ChatBox
ŒŒ 
.
ŒŒ  
ScrollToEnd
ŒŒ  +
(
ŒŒ+ ,
)
ŒŒ, -
;
ŒŒ- .

serverGame
œœ "
.
œœ" #
PassTurn
œœ# +
(
œœ+ ,
GameId
œœ, 2
)
œœ2 3
;
œœ3 4
}
–– 
}
—— 
}
““ 
}
”” 	
public
’’ 
void
’’ "
LookForAPossibleTile
’’ (
(
’’( )
out
’’) ,
int
’’- 0!
numberOfTilesToPlay
’’1 D
,
’’D E
out
’’F I
int
’’J M
[
’’M N
]
’’N O
tilesToPlay
’’P [
)
’’[ \
{
÷÷ 	
tilesToPlay
◊◊ 
=
◊◊ 
new
◊◊ 
int
◊◊ !
[
◊◊! "
tilesInHand
◊◊" -
.
◊◊- .
Length
◊◊. 4
]
◊◊4 5
;
◊◊5 6!
numberOfTilesToPlay
ÿÿ 
=
ÿÿ  !
$num
ÿÿ" #
;
ÿÿ# $
for
ŸŸ 
(
ŸŸ 
int
ŸŸ 
i
ŸŸ 
=
ŸŸ 
$num
ŸŸ 
;
ŸŸ 
i
ŸŸ 
<
ŸŸ 
tilesInHand
ŸŸ  +
.
ŸŸ+ ,
Length
ŸŸ, 2
;
ŸŸ2 3
i
ŸŸ4 5
++
ŸŸ5 7
)
ŸŸ7 8
{
⁄⁄ 
if
€€ 
(
€€ 
tilesInHand
€€ 
[
€€  
i
€€  !
]
€€! "
!=
€€# %
null
€€& *
)
€€* +
{
‹‹ 
int
›› 
	numberOne
›› !
=
››" #
int
››$ '
.
››' (
Parse
››( -
(
››- .
tilesInHand
››. 9
[
››9 :
i
››: ;
]
››; <
.
››< =
	Substring
››= F
(
››F G
$num
››G H
,
››H I
$num
››J K
)
››K L
)
››L M
;
››M N
int
ﬁﬁ 
	numberTwo
ﬁﬁ !
=
ﬁﬁ" #
int
ﬁﬁ$ '
.
ﬁﬁ' (
Parse
ﬁﬁ( -
(
ﬁﬁ- .
tilesInHand
ﬁﬁ. 9
[
ﬁﬁ9 :
i
ﬁﬁ: ;
]
ﬁﬁ; <
.
ﬁﬁ< =
	Substring
ﬁﬁ= F
(
ﬁﬁF G
$num
ﬁﬁG H
,
ﬁﬁH I
$num
ﬁﬁJ K
)
ﬁﬁK L
)
ﬁﬁL M
;
ﬁﬁM N
if
ﬂﬂ 
(
ﬂﬂ 
	numberOne
ﬂﬂ !
==
ﬂﬂ" $

leftNumber
ﬂﬂ% /
||
ﬂﬂ0 2
	numberOne
ﬂﬂ3 <
==
ﬂﬂ= ?
rightNumber
ﬂﬂ@ K
||
ﬂﬂL N
	numberTwo
ﬂﬂO X
==
ﬂﬂY [

leftNumber
ﬂﬂ\ f
||
ﬂﬂg i
	numberTwo
ﬂﬂj s
==
ﬂﬂt v
rightNumberﬂﬂw Ç
)ﬂﬂÇ É
{
‡‡ 
tilesToPlay
·· #
[
··# $!
numberOfTilesToPlay
··$ 7
]
··7 8
=
··9 :
i
··; <
;
··< =!
numberOfTilesToPlay
‚‚ +
++
‚‚+ -
;
‚‚- .
}
„„ 
}
‰‰ 
else
ÂÂ 
{
ÊÊ 
tilesToPlay
ÁÁ 
[
ÁÁ  !
numberOfTilesToPlay
ÁÁ  3
]
ÁÁ3 4
=
ÁÁ5 6
-
ÁÁ7 8
$num
ÁÁ8 9
;
ÁÁ9 :
break
ËË 
;
ËË 
}
ÈÈ 
}
ÍÍ 
}
ÎÎ 	
public
ÌÌ 
void
ÌÌ !
EnablePossibleTiles
ÌÌ '
(
ÌÌ' (
int
ÌÌ( +
[
ÌÌ+ ,
]
ÌÌ, -
tilesToPlay
ÌÌ. 9
)
ÌÌ9 :
{
ÓÓ 	
for
ÔÔ 
(
ÔÔ 
int
ÔÔ 
j
ÔÔ 
=
ÔÔ 
$num
ÔÔ 
;
ÔÔ 
j
ÔÔ 
<
ÔÔ 
tilesToPlay
ÔÔ  +
.
ÔÔ+ ,
Length
ÔÔ, 2
;
ÔÔ2 3
j
ÔÔ4 5
++
ÔÔ5 7
)
ÔÔ7 8
{
 
if
ÒÒ 
(
ÒÒ 
tilesToPlay
ÒÒ 
[
ÒÒ  
j
ÒÒ  !
]
ÒÒ! "
!=
ÒÒ# %
-
ÒÒ& '
$num
ÒÒ' (
)
ÒÒ( )
{
ÚÚ 
Image
ÛÛ 
image
ÛÛ 
=
ÛÛ  !
TilesPlayer1
ÛÛ" .
.
ÛÛ. /
Children
ÛÛ/ 7
[
ÛÛ7 8
tilesToPlay
ÛÛ8 C
[
ÛÛC D
j
ÛÛD E
]
ÛÛE F
]
ÛÛF G
as
ÛÛH J
Image
ÛÛK P
;
ÛÛP Q
image
ÙÙ 
.
ÙÙ 
	AllowDrop
ÙÙ #
=
ÙÙ$ %
true
ÙÙ& *
;
ÙÙ* +
image
ıı 
.
ıı 
Opacity
ıı !
=
ıı" #
$num
ıı$ %
;
ıı% &
image
ˆˆ 
.
ˆˆ !
MouseLeftButtonDown
ˆˆ -
+=
ˆˆ. 0
new
ˆˆ1 4%
MouseButtonEventHandler
ˆˆ5 L
(
ˆˆL M
TileSelected
ˆˆM Y
)
ˆˆY Z
;
ˆˆZ [
image
˜˜ 
.
˜˜ 
	IsEnabled
˜˜ #
=
˜˜$ %
true
˜˜& *
;
˜˜* +
}
¯¯ 
else
˘˘ 
break
˙˙ 
;
˙˙ 
}
˚˚ 
}
¸¸ 	
public
˛˛ 
void
˛˛ 

GetTheTile
˛˛ 
(
˛˛ 
string
˛˛ %
tile
˛˛& *
)
˛˛* +
{
ˇˇ 	
for
ÄÄ 
(
ÄÄ 
int
ÄÄ 
i
ÄÄ 
=
ÄÄ 
$num
ÄÄ 
;
ÄÄ 
i
ÄÄ 
<
ÄÄ 
tilesInHand
ÄÄ  +
.
ÄÄ+ ,
Length
ÄÄ, 2
;
ÄÄ2 3
i
ÄÄ4 5
++
ÄÄ5 7
)
ÄÄ7 8
{
ÅÅ 
if
ÇÇ 
(
ÇÇ 
tilesInHand
ÇÇ 
[
ÇÇ  
i
ÇÇ  !
]
ÇÇ! "
==
ÇÇ# %
null
ÇÇ& *
)
ÇÇ* +
{
ÉÉ 
tilesInHand
ÑÑ 
[
ÑÑ  
i
ÑÑ  !
]
ÑÑ! "
=
ÑÑ# $
tile
ÑÑ% )
;
ÑÑ) *
break
ÖÖ 
;
ÖÖ 
}
ÜÜ 
}
áá 
var
ââ 
	converter
ââ 
=
ââ 
new
ââ "
ImageSourceConverter
ââ  4
(
ââ4 5
)
ââ5 6
;
ââ6 7
Image
ää 
tile1
ää 
=
ää 
new
ää 
Image
ää #
{
ãã 
Source
åå 
=
åå 
(
åå 
ImageSource
åå %
)
åå% &
	converter
åå& /
.
åå/ 0
ConvertFromString
åå0 A
(
ååA B
$str
ååB K
+
ååL M
tile
ååN R
+
ååS T
$str
ååU [
)
åå[ \
,
åå\ ]
Width
çç 
=
çç 
$num
çç 
,
çç 
Opacity
éé 
=
éé 
$num
éé 
,
éé 
	AllowDrop
èè 
=
èè 
false
èè !
}
êê 
;
êê 
TilesPlayer1
ëë 
.
ëë 
Children
ëë !
.
ëë! "
Add
ëë" %
(
ëë% &
tile1
ëë& +
)
ëë+ ,
;
ëë, -"
LookForAPossibleTile
ìì  
(
ìì  !
out
ìì! $
int
ìì% (!
numberOfTilesToPlay
ìì) <
,
ìì< =
out
ìì> A
int
ììB E
[
ììE F
]
ììF G
tilesToPlay
ììH S
)
ììS T
;
ììT U
if
îî 
(
îî !
numberOfTilesToPlay
îî #
!=
îî$ &
$num
îî' (
)
îî( )!
EnablePossibleTiles
ïï #
(
ïï# $
tilesToPlay
ïï$ /
)
ïï/ 0
;
ïï0 1
else
ññ 

serverGame
óó 
.
óó 
PassTurn
óó #
(
óó# $
GameId
óó$ *
)
óó* +
;
óó+ ,
}
òò 	
public
öö 
void
öö 
GetDominoes
öö 
(
öö  
string
öö  &
[
öö& '
]
öö' (
dominoes
öö) 1
)
öö1 2
{
õõ 	
for
úú 
(
úú 
int
úú 
i
úú 
=
úú 
$num
úú 
;
úú 
i
úú 
<
úú 
$num
úú  !
;
úú! "
i
úú# $
++
úú$ &
)
úú& '
tilesInHand
ùù 
[
ùù 
i
ùù 
]
ùù 
=
ùù  
dominoes
ùù! )
[
ùù) *
i
ùù* +
]
ùù+ ,
;
ùù, -
var
üü 
	converter
üü 
=
üü 
new
üü "
ImageSourceConverter
üü  4
(
üü4 5
)
üü5 6
;
üü6 7
Image
†† 
tile1
†† 
=
†† 
new
†† 
Image
†† #
{
°° 
Source
¢¢ 
=
¢¢ 
(
¢¢ 
ImageSource
¢¢ %
)
¢¢% &
	converter
¢¢& /
.
¢¢/ 0
ConvertFromString
¢¢0 A
(
¢¢A B
$str
¢¢B K
+
¢¢L M
dominoes
¢¢N V
[
¢¢V W
$num
¢¢W X
]
¢¢X Y
+
¢¢Z [
$str
¢¢\ b
)
¢¢b c
,
¢¢c d
Width
££ 
=
££ 
$num
££ 
,
££ 
Opacity
§§ 
=
§§ 
$num
§§ 
,
§§ 
	AllowDrop
•• 
=
•• 
false
•• !
}
¶¶ 
;
¶¶ 
Image
ßß 
tile2
ßß 
=
ßß 
new
ßß 
Image
ßß #
{
®® 
Source
©© 
=
©© 
(
©© 
ImageSource
©© %
)
©©% &
	converter
©©& /
.
©©/ 0
ConvertFromString
©©0 A
(
©©A B
$str
©©B K
+
©©L M
dominoes
©©N V
[
©©V W
$num
©©W X
]
©©X Y
+
©©Z [
$str
©©\ b
)
©©b c
,
©©c d
Width
™™ 
=
™™ 
$num
™™ 
,
™™ 
Opacity
´´ 
=
´´ 
$num
´´ 
,
´´ 
	AllowDrop
¨¨ 
=
¨¨ 
false
¨¨ !
}
≠≠ 
;
≠≠ 
Image
ÆÆ 
tile3
ÆÆ 
=
ÆÆ 
new
ÆÆ 
Image
ÆÆ #
{
ØØ 
Source
∞∞ 
=
∞∞ 
(
∞∞ 
ImageSource
∞∞ %
)
∞∞% &
	converter
∞∞& /
.
∞∞/ 0
ConvertFromString
∞∞0 A
(
∞∞A B
$str
∞∞B K
+
∞∞L M
dominoes
∞∞N V
[
∞∞V W
$num
∞∞W X
]
∞∞X Y
+
∞∞Z [
$str
∞∞\ b
)
∞∞b c
,
∞∞c d
Width
±± 
=
±± 
$num
±± 
,
±± 
Opacity
≤≤ 
=
≤≤ 
$num
≤≤ 
,
≤≤ 
	AllowDrop
≥≥ 
=
≥≥ 
false
≥≥ !
}
¥¥ 
;
¥¥ 
Image
µµ 
tile4
µµ 
=
µµ 
new
µµ 
Image
µµ #
{
∂∂ 
Source
∑∑ 
=
∑∑ 
(
∑∑ 
ImageSource
∑∑ %
)
∑∑% &
	converter
∑∑& /
.
∑∑/ 0
ConvertFromString
∑∑0 A
(
∑∑A B
$str
∑∑B K
+
∑∑L M
dominoes
∑∑N V
[
∑∑V W
$num
∑∑W X
]
∑∑X Y
+
∑∑Z [
$str
∑∑\ b
)
∑∑b c
,
∑∑c d
Width
∏∏ 
=
∏∏ 
$num
∏∏ 
,
∏∏ 
Opacity
ππ 
=
ππ 
$num
ππ 
,
ππ 
	AllowDrop
∫∫ 
=
∫∫ 
false
∫∫ !
}
ªª 
;
ªª 
Image
ºº 
tile5
ºº 
=
ºº 
new
ºº 
Image
ºº #
{
ΩΩ 
Source
ææ 
=
ææ 
(
ææ 
ImageSource
ææ %
)
ææ% &
	converter
ææ& /
.
ææ/ 0
ConvertFromString
ææ0 A
(
ææA B
$str
ææB K
+
ææL M
dominoes
ææN V
[
ææV W
$num
ææW X
]
ææX Y
+
ææZ [
$str
ææ\ b
)
ææb c
,
ææc d
Width
øø 
=
øø 
$num
øø 
,
øø 
Opacity
¿¿ 
=
¿¿ 
$num
¿¿ 
,
¿¿ 
	AllowDrop
¡¡ 
=
¡¡ 
false
¡¡ !
}
¬¬ 
;
¬¬ 
Image
√√ 
tile6
√√ 
=
√√ 
new
√√ 
Image
√√ #
{
ƒƒ 
Source
≈≈ 
=
≈≈ 
(
≈≈ 
ImageSource
≈≈ %
)
≈≈% &
	converter
≈≈& /
.
≈≈/ 0
ConvertFromString
≈≈0 A
(
≈≈A B
$str
≈≈B K
+
≈≈L M
dominoes
≈≈N V
[
≈≈V W
$num
≈≈W X
]
≈≈X Y
+
≈≈Z [
$str
≈≈\ b
)
≈≈b c
,
≈≈c d
Width
∆∆ 
=
∆∆ 
$num
∆∆ 
,
∆∆ 
Opacity
«« 
=
«« 
$num
«« 
,
«« 
	AllowDrop
»» 
=
»» 
false
»» !
}
…… 
;
…… 
Image
   
tile7
   
=
   
new
   
Image
   #
{
ÀÀ 
Source
ÃÃ 
=
ÃÃ 
(
ÃÃ 
ImageSource
ÃÃ %
)
ÃÃ% &
	converter
ÃÃ& /
.
ÃÃ/ 0
ConvertFromString
ÃÃ0 A
(
ÃÃA B
$str
ÃÃB K
+
ÃÃL M
dominoes
ÃÃN V
[
ÃÃV W
$num
ÃÃW X
]
ÃÃX Y
+
ÃÃZ [
$str
ÃÃ\ b
)
ÃÃb c
,
ÃÃc d
Width
ÕÕ 
=
ÕÕ 
$num
ÕÕ 
,
ÕÕ 
Opacity
ŒŒ 
=
ŒŒ 
$num
ŒŒ 
,
ŒŒ 
	AllowDrop
œœ 
=
œœ 
false
œœ !
}
–– 
;
–– 
TilesPlayer1
““ 
.
““ 
Children
““ !
.
““! "
Add
““" %
(
““% &
tile1
““& +
)
““+ ,
;
““, -
TilesPlayer1
”” 
.
”” 
Children
”” !
.
””! "
Add
””" %
(
””% &
tile2
””& +
)
””+ ,
;
””, -
TilesPlayer1
‘‘ 
.
‘‘ 
Children
‘‘ !
.
‘‘! "
Add
‘‘" %
(
‘‘% &
tile3
‘‘& +
)
‘‘+ ,
;
‘‘, -
TilesPlayer1
’’ 
.
’’ 
Children
’’ !
.
’’! "
Add
’’" %
(
’’% &
tile4
’’& +
)
’’+ ,
;
’’, -
TilesPlayer1
÷÷ 
.
÷÷ 
Children
÷÷ !
.
÷÷! "
Add
÷÷" %
(
÷÷% &
tile5
÷÷& +
)
÷÷+ ,
;
÷÷, -
TilesPlayer1
◊◊ 
.
◊◊ 
Children
◊◊ !
.
◊◊! "
Add
◊◊" %
(
◊◊% &
tile6
◊◊& +
)
◊◊+ ,
;
◊◊, -
TilesPlayer1
ÿÿ 
.
ÿÿ 
Children
ÿÿ !
.
ÿÿ! "
Add
ÿÿ" %
(
ÿÿ% &
tile7
ÿÿ& +
)
ÿÿ+ ,
;
ÿÿ, -
if
⁄⁄ 
(
⁄⁄ 
isHost
⁄⁄ 
)
⁄⁄ 
{
€€ 

serverGame
‹‹ 
.
‹‹ 
GetHighestTile
‹‹ )
(
‹‹) *
GameId
‹‹* 0
,
‹‹0 1
SendHighestTile
‹‹2 A
(
‹‹A B
)
‹‹B C
)
‹‹C D
;
‹‹D E
}
›› 
}
ﬁﬁ 	
private
‡‡ 
void
‡‡ 
TileSelected
‡‡ !
(
‡‡! "
object
‡‡" (
sender
‡‡) /
,
‡‡/ 0
RoutedEventArgs
‡‡1 @
e
‡‡A B
)
‡‡B C
{
·· 	
Image
‚‚ 
image
‚‚ 
=
‚‚ 
e
‚‚ 
.
‚‚ 
Source
‚‚ "
as
‚‚# %
Image
‚‚& +
;
‚‚+ ,
image
„„ 
.
„„ 
	IsEnabled
„„ 
=
„„ 
false
„„ #
;
„„# $
image
‰‰ 
.
‰‰ 
Width
‰‰ 
=
‰‰ 
image
‰‰ 
.
‰‰  
ActualWidth
‰‰  +
-
‰‰, -
$num
‰‰. 0
;
‰‰0 1
int
ÂÂ 
placeInTheHand
ÂÂ 
=
ÂÂ  
TilesPlayer1
ÂÂ! -
.
ÂÂ- .
Children
ÂÂ. 6
.
ÂÂ6 7
IndexOf
ÂÂ7 >
(
ÂÂ> ?
image
ÂÂ? D
)
ÂÂD E
;
ÂÂE F
if
ÊÊ 
(
ÊÊ 
placeInTheHand
ÊÊ 
==
ÊÊ !
-
ÊÊ" #
$num
ÊÊ# $
)
ÊÊ$ %
return
ÁÁ 
;
ÁÁ 
TilesPlayer1
ËË 
.
ËË 
Children
ËË !
.
ËË! "
Remove
ËË" (
(
ËË( )
image
ËË) .
)
ËË. /
;
ËË/ 0
string
ÈÈ 
	tileToPut
ÈÈ 
=
ÈÈ !
TakeTileFromTheHand
ÈÈ 2
(
ÈÈ2 3
placeInTheHand
ÈÈ3 A
)
ÈÈA B
;
ÈÈB C
if
ÍÍ 
(
ÍÍ 
	tileToPut
ÍÍ 
!=
ÍÍ 
null
ÍÍ !
)
ÍÍ! "
{
ÎÎ 
bool
ÏÏ 
decision
ÏÏ 
=
ÏÏ 
DrawInBoard
ÏÏ  +
(
ÏÏ+ ,
	tileToPut
ÏÏ, 5
,
ÏÏ5 6
image
ÏÏ7 <
,
ÏÏ< =
true
ÏÏ> B
,
ÏÏB C
false
ÏÏD I
)
ÏÏI J
;
ÏÏJ K
Points
ÌÌ 
+=
ÌÌ 
int
ÌÌ 
.
ÌÌ 
Parse
ÌÌ #
(
ÌÌ# $
	tileToPut
ÌÌ$ -
.
ÌÌ- .
	Substring
ÌÌ. 7
(
ÌÌ7 8
$num
ÌÌ8 9
,
ÌÌ9 :
$num
ÌÌ; <
)
ÌÌ< =
)
ÌÌ= >
+
ÌÌ? @
int
ÌÌA D
.
ÌÌD E
Parse
ÌÌE J
(
ÌÌJ K
	tileToPut
ÌÌK T
.
ÌÌT U
	Substring
ÌÌU ^
(
ÌÌ^ _
$num
ÌÌ_ `
,
ÌÌ` a
$num
ÌÌb c
)
ÌÌc d
)
ÌÌd e
;
ÌÌe f
TextBoxPoints
ÓÓ 
.
ÓÓ 
Text
ÓÓ "
=
ÓÓ# $
Points
ÓÓ% +
.
ÓÓ+ ,
ToString
ÓÓ, 4
(
ÓÓ4 5
)
ÓÓ5 6
;
ÓÓ6 7
foreach
ÔÔ 
(
ÔÔ 
Image
ÔÔ 

tileInHand
ÔÔ )
in
ÔÔ* ,
TilesPlayer1
ÔÔ- 9
.
ÔÔ9 :
Children
ÔÔ: B
)
ÔÔB C
{
 

tileInHand
ÒÒ 
.
ÒÒ 
	IsEnabled
ÒÒ (
=
ÒÒ) *
false
ÒÒ+ 0
;
ÒÒ0 1

tileInHand
ÚÚ 
.
ÚÚ 
Opacity
ÚÚ &
=
ÚÚ' (
$num
ÚÚ) ,
;
ÚÚ, -
}
ÛÛ 

serverGame
ÙÙ 
.
ÙÙ 
PutATile
ÙÙ #
(
ÙÙ# $
GameId
ÙÙ$ *
,
ÙÙ* +
	tileToPut
ÙÙ, 5
,
ÙÙ5 6
decision
ÙÙ7 ?
)
ÙÙ? @
;
ÙÙ@ A
if
ıı 
(
ıı 
tilesInHand
ıı 
[
ıı  
$num
ıı  !
]
ıı! "
==
ıı# %
null
ıı& *
)
ıı* +
{
ˆˆ 

serverGame
˜˜ 
.
˜˜ 
Win
˜˜ "
(
˜˜" #
GameId
˜˜# )
)
˜˜) *
;
˜˜* + 
SomeoneWonTheRound
¯¯ &
(
¯¯& '
username
¯¯' /
)
¯¯/ 0
;
¯¯0 1
}
˘˘ 
else
˙˙ 

serverGame
˚˚ 
.
˚˚ 
PassTurn
˚˚ '
(
˚˚' (
GameId
˚˚( .
)
˚˚. /
;
˚˚/ 0
}
¸¸ 
}
˝˝ 	
private
ˇˇ 
string
ˇˇ !
TakeTileFromTheHand
ˇˇ *
(
ˇˇ* +
int
ˇˇ+ .
placeInTheHand
ˇˇ/ =
)
ˇˇ= >
{
ÄÄ 	
string
ÅÅ 
	tileToPut
ÅÅ 
=
ÅÅ 
null
ÅÅ #
;
ÅÅ# $
string
ÇÇ 
[
ÇÇ 
]
ÇÇ 
newTilesInHand
ÇÇ #
=
ÇÇ$ %
new
ÇÇ& )
string
ÇÇ* 0
[
ÇÇ0 1
tilesInHand
ÇÇ1 <
.
ÇÇ< =
Length
ÇÇ= C
-
ÇÇD E
$num
ÇÇF G
]
ÇÇG H
;
ÇÇH I
for
ÉÉ 
(
ÉÉ 
int
ÉÉ 
i
ÉÉ 
=
ÉÉ 
$num
ÉÉ 
;
ÉÉ 
i
ÉÉ 
<
ÉÉ 
tilesInHand
ÉÉ  +
.
ÉÉ+ ,
Length
ÉÉ, 2
-
ÉÉ3 4
$num
ÉÉ5 6
;
ÉÉ6 7
i
ÉÉ8 9
++
ÉÉ9 ;
)
ÉÉ; <
{
ÑÑ 
if
ÖÖ 
(
ÖÖ 
tilesInHand
ÖÖ 
[
ÖÖ  
i
ÖÖ  !
]
ÖÖ! "
!=
ÖÖ# %
null
ÖÖ& *
)
ÖÖ* +
{
ÜÜ 
if
áá 
(
áá 
i
áá 
==
áá 
placeInTheHand
áá +
)
áá+ ,
	tileToPut
àà !
=
àà" #
tilesInHand
àà$ /
[
àà/ 0
i
àà0 1
]
àà1 2
;
àà2 3
if
ââ 
(
ââ 
i
ââ 
>=
ââ 
placeInTheHand
ââ +
)
ââ+ ,
newTilesInHand
ää &
[
ää& '
i
ää' (
]
ää( )
=
ää* +
tilesInHand
ää, 7
[
ää7 8
i
ää8 9
+
ää: ;
$num
ää< =
]
ää= >
;
ää> ?
else
ãã 
newTilesInHand
åå &
[
åå& '
i
åå' (
]
åå( )
=
åå* +
tilesInHand
åå, 7
[
åå7 8
i
åå8 9
]
åå9 :
;
åå: ;
}
çç 
else
éé 
break
èè 
;
èè 
}
êê 
tilesInHand
ëë 
=
ëë 
newTilesInHand
ëë (
;
ëë( )
return
íí 
	tileToPut
íí 
;
íí 
}
ìì 	
public
ïï 
void
ïï  
SomeoneWonTheRound
ïï &
(
ïï& '
string
ïï' -
username
ïï. 6
)
ïï6 7
{
ññ 	
if
óó 
(
óó 
username
óó 
==
óó 
this
óó  
.
óó  !
username
óó! )
)
óó) *
{
òò %
TextBlockWinnerUsername
ôô '
.
ôô' (

Visibility
ôô( 2
=
ôô3 4

Visibility
ôô5 ?
.
ôô? @
	Collapsed
ôô@ I
;
ôôI J
TextBlockWinner
öö 
.
öö  
Text
öö  $
=
öö% &

Properties
öö' 1
.
öö1 2
	Resources
öö2 ;
.
öö; <
YouWon
öö< B
;
ööB C
Points
õõ 
+=
õõ 
$num
õõ 
;
õõ 
}
úú 
else
ùù 
{
ûû %
TextBlockWinnerUsername
üü '
.
üü' (
Text
üü( ,
=
üü- .
username
üü/ 7
+
üü8 9
$str
üü: =
;
üü= >)
TextBlockExtrapointsMessage
†† +
.
††+ ,
Text
††, 0
=
††1 2

Properties
††3 =
.
††= >
	Resources
††> G
.
††G H
NoExtraPoints
††H U
;
††U V"
TextBlockExtrapoints
°° $
.
°°$ %

Visibility
°°% /
=
°°0 1

Visibility
°°2 <
.
°°< =
	Collapsed
°°= F
;
°°F G
}
¢¢ 

serverGame
££ 
.
££ 
UploadPoints
££ #
(
££# $
GameId
££$ *
,
££* +
Points
££, 2
)
££2 3
;
££3 4"
TextBlockFinalPoints
§§  
.
§§  !
Text
§§! %
=
§§& '
$str
§§( ,
+
§§- .
Points
§§/ 5
.
§§5 6
ToString
§§6 >
(
§§> ?
)
§§? @
;
§§@ A
EndPanel
•• 
.
•• 

Visibility
•• 
=
••  !

Visibility
••" ,
.
••, -
Visible
••- 4
;
••4 5
}
¶¶ 	
public
®® 
void
®® 
ReciveMessage
®® !
(
®®! "
string
®®" (
username
®®) 1
,
®®1 2
string
®®3 9
message
®®: A
)
®®A B
{
©© 	
string
™™ 
format
™™ 
=
™™ 
$str
™™  
+
™™! "
username
™™# +
+
™™, -
$str
™™. 2
+
™™3 4
message
™™5 <
;
™™< =
ChatBox
´´ 
.
´´ 

AppendText
´´ 
(
´´ 
format
´´ %
)
´´% &
;
´´& '
ChatBox
¨¨ 
.
¨¨ 
ScrollToEnd
¨¨ 
(
¨¨  
)
¨¨  !
;
¨¨! "
}
≠≠ 	
private
ØØ 
void
ØØ 
ClickIconChat
ØØ "
(
ØØ" #
object
ØØ# )
sender
ØØ* 0
,
ØØ0 1
	EventArgs
ØØ2 ;
e
ØØ< =
)
ØØ= >
{
∞∞ 	
string
±± 
message
±± 
=
±± 
TextBoxChat
±± (
.
±±( )
Text
±±) -
;
±±- .
if
≤≤ 
(
≤≤ 
!
≤≤ 
string
≤≤ 
.
≤≤ 
IsNullOrEmpty
≤≤ %
(
≤≤% &
message
≤≤& -
)
≤≤- .
)
≤≤. /
{
≥≥ 

serverChat
¥¥ 
.
¥¥ 
SendMessage
¥¥ &
(
¥¥& '
GameId
¥¥' -
,
¥¥- .
message
¥¥/ 6
)
¥¥6 7
;
¥¥7 8
string
∂∂ 
format
∂∂ 
=
∂∂ 
$str
∂∂  $
+
∂∂% &

Properties
∂∂' 1
.
∂∂1 2
	Resources
∂∂2 ;
.
∂∂; <
You
∂∂< ?
+
∂∂@ A
$str
∂∂B F
+
∂∂G H
message
∂∂I P
;
∂∂P Q
ChatBox
∑∑ 
.
∑∑ 

AppendText
∑∑ "
(
∑∑" #
format
∑∑# )
)
∑∑) *
;
∑∑* +
ChatBox
∏∏ 
.
∏∏ 
ScrollToEnd
∏∏ #
(
∏∏# $
)
∏∏$ %
;
∏∏% &
TextBoxChat
ππ 
.
ππ 
Clear
ππ !
(
ππ! "
)
ππ" #
;
ππ# $
}
∫∫ 
}
ªª 	
private
ΩΩ 
void
ΩΩ 
IsEnter
ΩΩ 
(
ΩΩ 
object
ΩΩ #
sender
ΩΩ$ *
,
ΩΩ* +
KeyEventArgs
ΩΩ, 8
e
ΩΩ9 :
)
ΩΩ: ;
{
ææ 	
if
øø 
(
øø 
e
øø 
.
øø 
Key
øø 
==
øø 
Key
øø 
.
øø 
Enter
øø "
)
øø" #
ClickIconChat
¿¿ 
(
¿¿ 
this
¿¿ "
,
¿¿" #
new
¿¿$ '
	EventArgs
¿¿( 1
(
¿¿1 2
)
¿¿2 3
)
¿¿3 4
;
¿¿4 5
}
¡¡ 	
private
√√ 
bool
√√ 
_autoScroll
√√  
=
√√! "
true
√√# '
;
√√' (
private
ƒƒ 
void
ƒƒ *
ScrollViewer_OnScrollChanged
ƒƒ 1
(
ƒƒ1 2
object
ƒƒ2 8
sender
ƒƒ9 ?
,
ƒƒ? @$
ScrollChangedEventArgs
ƒƒA W
e
ƒƒX Y
)
ƒƒY Z
{
≈≈ 	
if
∆∆ 
(
∆∆ 
e
∆∆ 
.
∆∆  
ExtentHeightChange
∆∆ $
==
∆∆% '
$num
∆∆( )
)
∆∆) *
_autoScroll
«« 
=
«« 
ScrollViewer
«« *
.
««* +
VerticalOffset
««+ 9
==
««: <
ScrollViewer
««= I
.
««I J
ScrollableHeight
««J Z
;
««Z [
if
…… 
(
…… 
_autoScroll
…… 
&&
…… 
e
……  
.
……  ! 
ExtentHeightChange
……! 3
!=
……4 6
$num
……7 8
)
……8 9
ScrollViewer
   
.
   $
ScrollToVerticalOffset
   3
(
  3 4
ScrollViewer
  4 @
.
  @ A
ExtentHeight
  A M
)
  M N
;
  N O
}
ÀÀ 	
private
ÕÕ 
void
ÕÕ 
ClickGoBackToMenu
ÕÕ &
(
ÕÕ& '
object
ÕÕ' -
sender
ÕÕ. 4
,
ÕÕ4 5
	EventArgs
ÕÕ6 ?
e
ÕÕ@ A
)
ÕÕA B
{
ŒŒ 	

MenuWindow
œœ 

menuWindow
œœ !
=
œœ" #
new
œœ$ '

MenuWindow
œœ( 2
(
œœ2 3
username
œœ3 ;
)
œœ; <
;
œœ< =

menuWindow
–– 
.
–– 
Show
–– 
(
–– 
)
–– 
;
–– 
this
—— 
.
—— 
Close
—— 
(
—— 
)
—— 
;
—— 
}
““ 	
private
‘‘ 
void
‘‘ 
	ClickExit
‘‘ 
(
‘‘ 
object
‘‘ %
sender
‘‘& ,
,
‘‘, -
	EventArgs
‘‘. 7
e
‘‘8 9
)
‘‘9 :
{
’’ 	
Application
÷÷ 
.
÷÷ 
Current
÷÷ 
.
÷÷  
Shutdown
÷÷  (
(
÷÷( )
)
÷÷) *
;
÷÷* +
}
◊◊ 	
}
ÿÿ 
}ŸŸ ËÆ
RC:\Users\ricar\Documents\GitHub\domino\DominoJuego\JugarMultijugadorWindow.xaml.cs
	namespace 	
Domino
 
{		 
public 

partial 
class #
JugarMultijugadorWindow 0
:1 2
Page3 7
,7 8
Proxy9 >
.> ?!
ILobbyServiceCallback? T
{ 
private 
readonly 

MenuWindow #

menuWindow$ .
;. /
private 
readonly 
string 
username  (
;( )
private 
string 
gameName 
;  
private 
bool 
isHost 
= 
false #
;# $
private 
int 
numberOfPlayers #
=$ %
$num& '
;' (
private 
readonly 
Proxy 
. 
LobbyServiceClient 1
server2 8
=9 :
null; ?
;? @
private 
readonly 
InstanceContext (
context) 0
=1 2
null3 7
;7 8
public  
ObservableCollection #
<# $
string$ *
>* +
Games, 1
{2 3
get4 7
;7 8
private9 @
setA D
;D E
}F G
public  
ObservableCollection #
<# $
string$ *
>* +
Players, 3
{4 5
get6 9
;9 :
private; B
setC F
;F G
}H I
public  
ObservableCollection #
<# $
int$ '
>' (

NumPlayers) 3
{4 5
get6 9
;9 :
private; B
setC F
;F G
}H I
public #
JugarMultijugadorWindow &
(& '
)' (
{ 	
InitializeComponent 
(  
)  !
;! "
} 	
public!! #
JugarMultijugadorWindow!! &
(!!& '

MenuWindow!!' 1

menuWindow!!2 <
,!!< =
string!!> D
username!!E M
)!!M N
{"" 	
InitializeComponent## 
(##  
)##  !
;##! "
this$$ 
.$$ 

menuWindow$$ 
=$$ 

menuWindow$$ (
;$$( )
this%% 
.%% 
username%% 
=%% 
username%% $
;%%$ %
Games'' 
='' 
new''  
ObservableCollection'' ,
<'', -
string''- 3
>''3 4
(''4 5
)''5 6
;''6 7
Players(( 
=(( 
new((  
ObservableCollection(( .
<((. /
string((/ 5
>((5 6
(((6 7
)((7 8
;((8 9
Players)) 
.)) 
CollectionChanged)) %
+=))& (
new))) ,
System))- 3
.))3 4
Collections))4 ?
.))? @
Specialized))@ K
.))K L/
#NotifyCollectionChangedEventHandler))L o
())o p

LoadingRow))p z
)))z {
;)){ |
DataContext** 
=** 
this** 
;** 
PlayersGrid,, 
.,, 

Visibility,, "
=,,# $

Visibility,,% /
.,,/ 0
Hidden,,0 6
;,,6 7
context.. 
=.. 
new.. 
InstanceContext.. )
(..) *
this..* .
)... /
;../ 0
server// 
=// 
new// 
Proxy// 
.// 
LobbyServiceClient// 1
(//1 2
context//2 9
)//9 :
;//: ;

NumPlayers11 
=11 
new11  
ObservableCollection11 1
<111 2
int112 5
>115 6
{117 8
$num119 :
,11: ;
$num11< =
,11= >
$num11? @
}11A B
;11B C
server33 
.33 
	JoinLobby33 
(33 
username33 %
)33% &
;33& '
server44 
.44 
GetGames44 
(44 
)44 
;44 
}55 	
private77 
void77 
ClickGoBack77  
(77  !
object77! '
sender77( .
,77. /
RoutedEventArgs770 ?
e77@ A
)77A B
{88 	

menuWindow99 
.99 
GoBack99 
(99 
)99 
;99  
}:: 	
private<< 
void<< 
ClickCreateGame<< $
(<<$ %
object<<% +
sender<<, 2
,<<2 3
RoutedEventArgs<<4 C
e<<D E
)<<E F
{== 	
isHost>> 
=>> 
true>> 
;>> 
AdjustComponents?? 
(?? 
isHost?? #
)??# $
;??$ %
PlayersAA 
.AA 
InsertAA 
(AA 
$numAA 
,AA 
usernameAA &
)AA& '
;AA' (
DataContextBB 
=BB 
thisBB 
;BB 
gameNameDD 
=DD 
TextBoxGameNameDD &
.DD& '
TextDD' +
;DD+ ,
ifEE 
(EE 
stringEE 
.EE 
IsNullOrEmptyEE $
(EE$ %
gameNameEE% -
)EE- .
)EE. /
gameNameFF 
=FF 

PropertiesFF %
.FF% &
	ResourcesFF& /
.FF/ 0
GameOfFF0 6
+FF7 8
usernameFF9 A
;FFA B
numberOfPlayersHH 
=HH 
intHH !
.HH! "
ParseHH" '
(HH' (#
NumberOfPlayersComboBoxHH( ?
.HH? @
SelectedItemHH@ L
.HHL M
ToStringHHM U
(HHU V
)HHV W
)HHW X
;HHX Y
serverII 
.II 

CreateGameII 
(II 
gameNameII &
)II& '
;II' (
}JJ 	
privateLL 
voidLL 
ClickJoinGameLL "
(LL" #
objectLL# )
senderLL* 0
,LL0 1
RoutedEventArgsLL2 A
eLLB C
)LLC D
{MM 	
gameNameNN 
=NN 
(NN 
stringNN 
)NN 
	GamesListNN (
.NN( )
SelectedItemNN) 5
;NN5 6
serverOO 
.OO 
JoinGameOO 
(OO 
gameNameOO $
)OO$ %
;OO% &
}PP 	
privateRR 
voidRR 
ClickLeaveGameRR #
(RR# $
objectRR$ *
senderRR+ 1
,RR1 2
RoutedEventArgsRR3 B
eRRC D
)RRD E
{SS 	
ifTT 
(TT 
isHostTT 
)TT 
{UU 
ifVV 
(VV 

MessageBoxVV 
.VV 
ShowVV #
(VV# $

PropertiesVV$ .
.VV. /
	ResourcesVV/ 8
.VV8 9
	BreakGameVV9 B
,VVB C

PropertiesVVD N
.VVN O
	ResourcesVVO X
.VVX Y
ConfirmationVVY e
,VVe f
MessageBoxButtonVVg w
.VVw x
YesNoVVx }
)VV} ~
==	VV Å
MessageBoxResult
VVÇ í
.
VVí ì
Yes
VVì ñ
)
VVñ ó
{WW 
serverXX 
.XX 
	BreakGameXX $
(XX$ %
gameNameXX% -
)XX- .
;XX. /
ResetComponentsYY #
(YY# $
)YY$ %
;YY% &
}ZZ 
}[[ 
else\\ 
{]] 
server^^ 
.^^ 
MemberLeftGame^^ %
(^^% &
gameName^^& .
)^^. /
;^^/ 0
ResetComponents__ 
(__  
)__  !
;__! "
}`` 
}aa 	
privatecc 
voidcc 
ClickStartGamecc #
(cc# $
objectcc$ *
sendercc+ 1
,cc1 2
RoutedEventArgscc3 B
eccC D
)ccD E
{dd 	
serveree 
.ee 
	StartGameee 
(ee 
gameNameee %
)ee% &
;ee& '
}ff 	
publichh 
voidhh 

ReciveGamehh 
(hh 
stringhh %
gameNamehh& .
)hh. /
{ii 	
Gamesjj 
.jj 
Insertjj 
(jj 
$numjj 
,jj 
gameNamejj $
)jj$ %
;jj% &
DataContextkk 
=kk 
thiskk 
;kk 
}ll 	
publicnn 
voidnn 
ReciveMembernn  
(nn  !
stringnn! '
	newMembernn( 1
)nn1 2
{oo 	
Playerspp 
.pp 
Addpp 
(pp 
	newMemberpp !
)pp! "
;pp" #
DataContextqq 
=qq 
thisqq 
;qq 
}rr 	
publictt 
stringtt 
SendUsernamett "
(tt" #
)tt# $
{uu 	
returnvv 
usernamevv 
;vv 
}ww 	
publicyy 
intyy 
SendNumberOfPlayersyy &
(yy& '
outyy' *
intyy+ .
numberOfPlayersyy/ >
)yy> ?
=>yy@ B
numberOfPlayersyyC R
=yyS T
thisyyU Y
.yyY Z
numberOfPlayersyyZ i
;yyi j
public{{ 
void{{ 
ReciveMembers{{ !
({{! "
string{{" (
[{{( )
]{{) *
members{{+ 2
){{2 3
{|| 	
isHost}} 
=}} 
false}} 
;}} 
AdjustComponents~~ 
(~~ 
isHost~~ #
)~~# $
;~~$ %
for
ÄÄ 
(
ÄÄ 
int
ÄÄ 
i
ÄÄ 
=
ÄÄ 
$num
ÄÄ 
;
ÄÄ 
i
ÄÄ 
<
ÄÄ 
members
ÄÄ  '
.
ÄÄ' (
Length
ÄÄ( .
;
ÄÄ. /
i
ÄÄ0 1
++
ÄÄ1 3
)
ÄÄ3 4
Players
ÅÅ 
.
ÅÅ 
Add
ÅÅ 
(
ÅÅ 
members
ÅÅ #
[
ÅÅ# $
i
ÅÅ$ %
]
ÅÅ% &
)
ÅÅ& '
;
ÅÅ' (
Players
ÇÇ 
.
ÇÇ 
Add
ÇÇ 
(
ÇÇ 
username
ÇÇ  
)
ÇÇ  !
;
ÇÇ! "
DataContext
ÉÉ 
=
ÉÉ 
this
ÉÉ 
;
ÉÉ 
}
ÑÑ 	
public
ÜÜ 
void
ÜÜ 
GameFull
ÜÜ 
(
ÜÜ 
)
ÜÜ 
{
áá 	

MessageBox
àà 
.
àà 
Show
àà 
(
àà 

Properties
àà &
.
àà& '
	Resources
àà' 0
.
àà0 1
RoomFull
àà1 9
)
àà9 :
;
àà: ;
}
ââ 	
public
ãã 
void
ãã 
	LeaveGame
ãã 
(
ãã 
bool
ãã "
isKickedOut
ãã# .
)
ãã. /
{
åå 	
if
çç 
(
çç 
isKickedOut
çç 
)
çç 
{
éé 
server
èè 
.
èè 
MemberLeftGame
èè %
(
èè% &
gameName
èè& .
)
èè. /
;
èè/ 0

MessageBox
êê 
.
êê 
Show
êê 
(
êê  

Properties
êê  *
.
êê* +
	Resources
êê+ 4
.
êê4 5
	KickedOut
êê5 >
)
êê> ?
;
êê? @
}
ëë 
else
íí 

MessageBox
ìì 
.
ìì 
Show
ìì 
(
ìì  

Properties
ìì  *
.
ìì* +
	Resources
ìì+ 4
.
ìì4 5
	GameBroke
ìì5 >
)
ìì> ?
;
ìì? @
ResetComponents
ïï 
(
ïï 
)
ïï 
;
ïï 
}
ññ 	
public
òò 
void
òò 
SomeoneLeftGame
òò #
(
òò# $
string
òò$ *
memberWhoLeft
òò+ 8
)
òò8 9
{
ôô 	
Players
öö 
.
öö 
Remove
öö 
(
öö 
memberWhoLeft
öö (
)
öö( )
;
öö) *
DataContext
õõ 
=
õõ 
this
õõ 
;
õõ 
}
úú 	
public
ûû 
void
ûû 
UpdateGames
ûû 
(
ûû  
)
ûû  !
{
üü 	
Games
†† 
.
†† 
Clear
†† 
(
†† 
)
†† 
;
†† 
server
°° 
.
°° 
GetGames
°° 
(
°° 
)
°° 
;
°° 
}
¢¢ 	
public
§§ 
void
§§ 
AdjustComponents
§§ $
(
§§$ %
bool
§§% )
isHost
§§* 0
)
§§0 1
{
•• 	
GoBackButton
¶¶ 
.
¶¶ 
	IsEnabled
¶¶ "
=
¶¶# $
false
¶¶% *
;
¶¶* +
	GamesList
®® 
.
®® 

Visibility
®®  
=
®®! "

Visibility
®®# -
.
®®- .
Hidden
®®. 4
;
®®4 5
CreateGameButton
©© 
.
©© 

Visibility
©© '
=
©©( )

Visibility
©©* 4
.
©©4 5
Hidden
©©5 ;
;
©©; <
JoinGameButton
™™ 
.
™™ 

Visibility
™™ %
=
™™& '

Visibility
™™( 2
.
™™2 3
Hidden
™™3 9
;
™™9 :%
NumberOfPlayersComboBox
´´ #
.
´´# $

Visibility
´´$ .
=
´´/ 0

Visibility
´´1 ;
.
´´; <
Hidden
´´< B
;
´´B C
TextBoxGameName
¨¨ 
.
¨¨ 

Visibility
¨¨ &
=
¨¨' (

Visibility
¨¨) 3
.
¨¨3 4
Hidden
¨¨4 :
;
¨¨: ;
PlayersGrid
ÆÆ 
.
ÆÆ 

Visibility
ÆÆ "
=
ÆÆ# $

Visibility
ÆÆ% /
.
ÆÆ/ 0
Visible
ÆÆ0 7
;
ÆÆ7 8
LeaveGameButton
ØØ 
.
ØØ 

Visibility
ØØ &
=
ØØ' (

Visibility
ØØ) 3
.
ØØ3 4
Visible
ØØ4 ;
;
ØØ; <
if
∞∞ 
(
∞∞ 
isHost
∞∞ 
)
∞∞ 
StartGameButton
±± 
.
±±  

Visibility
±±  *
=
±±+ ,

Visibility
±±- 7
.
±±7 8
Visible
±±8 ?
;
±±? @
else
≤≤ 
KickPlayerColumn
≥≥  
.
≥≥  !

Visibility
≥≥! +
=
≥≥, -

Visibility
≥≥. 8
.
≥≥8 9
Hidden
≥≥9 ?
;
≥≥? @
}
¥¥ 	
public
∂∂ 
void
∂∂ 
ResetComponents
∂∂ #
(
∂∂# $
)
∂∂$ %
{
∑∑ 	
GoBackButton
∏∏ 
.
∏∏ 
	IsEnabled
∏∏ "
=
∏∏# $
true
∏∏% )
;
∏∏) *
	GamesList
ππ 
.
ππ 

Visibility
ππ  
=
ππ! "

Visibility
ππ# -
.
ππ- .
Visible
ππ. 5
;
ππ5 6
CreateGameButton
∫∫ 
.
∫∫ 

Visibility
∫∫ '
=
∫∫( )

Visibility
∫∫* 4
.
∫∫4 5
Visible
∫∫5 <
;
∫∫< =
CreateGameButton
ªª 
.
ªª 
	IsEnabled
ªª &
=
ªª' (
false
ªª) .
;
ªª. /
JoinGameButton
ºº 
.
ºº 

Visibility
ºº %
=
ºº& '

Visibility
ºº( 2
.
ºº2 3
Visible
ºº3 :
;
ºº: ;
JoinGameButton
ΩΩ 
.
ΩΩ 
	IsEnabled
ΩΩ $
=
ΩΩ% &
false
ΩΩ' ,
;
ΩΩ, -%
NumberOfPlayersComboBox
ææ #
.
ææ# $

Visibility
ææ$ .
=
ææ/ 0

Visibility
ææ1 ;
.
ææ; <
Visible
ææ< C
;
ææC D%
NumberOfPlayersComboBox
øø #
.
øø# $
SelectedIndex
øø$ 1
=
øø2 3
-
øø4 5
$num
øø5 6
;
øø6 7
TextBoxGameName
¿¿ 
.
¿¿ 

Visibility
¿¿ &
=
¿¿' (

Visibility
¿¿) 3
.
¿¿3 4
Visible
¿¿4 ;
;
¿¿; <
TextBoxGameName
¡¡ 
.
¡¡ 
Clear
¡¡ !
(
¡¡! "
)
¡¡" #
;
¡¡# $
Games
¬¬ 
.
¬¬ 
Clear
¬¬ 
(
¬¬ 
)
¬¬ 
;
¬¬ 
KickPlayerColumn
√√ 
.
√√ 

Visibility
√√ '
=
√√( )

Visibility
√√* 4
.
√√4 5
Visible
√√5 <
;
√√< =
server
ƒƒ 
.
ƒƒ 
GetGames
ƒƒ 
(
ƒƒ 
)
ƒƒ 
;
ƒƒ 
PlayersGrid
∆∆ 
.
∆∆ 

Visibility
∆∆ "
=
∆∆# $

Visibility
∆∆% /
.
∆∆/ 0
Hidden
∆∆0 6
;
∆∆6 7
StartGameButton
«« 
.
«« 

Visibility
«« &
=
««' (

Visibility
««) 3
.
««3 4
Hidden
««4 :
;
««: ;
StartGameButton
»» 
.
»» 
	IsEnabled
»» %
=
»»& '
false
»»( -
;
»»- .
LeaveGameButton
…… 
.
…… 

Visibility
…… &
=
……' (

Visibility
……) 3
.
……3 4
Hidden
……4 :
;
……: ;
Players
   
.
   
Clear
   
(
   
)
   
;
   
gameName
ÃÃ 
=
ÃÃ 
null
ÃÃ 
;
ÃÃ 
isHost
ÕÕ 
=
ÕÕ 
false
ÕÕ 
;
ÕÕ 
numberOfPlayers
ŒŒ 
=
ŒŒ 
$num
ŒŒ 
;
ŒŒ  
}
œœ 	
private
—— 
void
—— %
GamesList_IsDoubleClick
—— ,
(
——, -
object
——- 3
sender
——4 :
,
——: ;"
MouseButtonEventArgs
——< P
e
——Q R
)
——R S
{
““ 	
ClickJoinGame
”” 
(
”” 
this
”” 
,
”” 
new
””  #
RoutedEventArgs
””$ 3
(
””3 4
)
””4 5
)
””5 6
;
””6 7
}
‘‘ 	
private
÷÷ 
void
÷÷ ,
GamesList_SelectedIndexChanged
÷÷ 3
(
÷÷3 4
object
÷÷4 :
sender
÷÷; A
,
÷÷A B'
SelectionChangedEventArgs
÷÷C \
e
÷÷] ^
)
÷÷^ _
{
◊◊ 	
if
ÿÿ 
(
ÿÿ 
this
ÿÿ 
.
ÿÿ 
	GamesList
ÿÿ 
.
ÿÿ 
SelectedItems
ÿÿ ,
.
ÿÿ, -
Count
ÿÿ- 2
==
ÿÿ3 5
$num
ÿÿ6 7
)
ÿÿ7 8
{
ŸŸ 
JoinGameButton
⁄⁄ 
.
⁄⁄ 
	IsEnabled
⁄⁄ (
=
⁄⁄) *
false
⁄⁄+ 0
;
⁄⁄0 1
return
€€ 
;
€€ 
}
‹‹ 
JoinGameButton
›› 
.
›› 
	IsEnabled
›› $
=
››% &
true
››' +
;
››+ ,
}
ﬁﬁ 	
private
‡‡ 
void
‡‡ +
ComboBox_SelectedIndexChanged
‡‡ 2
(
‡‡2 3
object
‡‡3 9
sender
‡‡: @
,
‡‡@ A'
SelectionChangedEventArgs
‡‡B [
e
‡‡\ ]
)
‡‡] ^
{
·· 	
if
‚‚ 
(
‚‚ 
this
‚‚ 
.
‚‚ %
NumberOfPlayersComboBox
‚‚ ,
.
‚‚, -
SelectedIndex
‚‚- :
==
‚‚; =
-
‚‚> ?
$num
‚‚? @
)
‚‚@ A
{
„„ 
CreateGameButton
‰‰  
.
‰‰  !
	IsEnabled
‰‰! *
=
‰‰+ ,
false
‰‰- 2
;
‰‰2 3
return
ÂÂ 
;
ÂÂ 
}
ÊÊ 
CreateGameButton
ÁÁ 
.
ÁÁ 
	IsEnabled
ÁÁ &
=
ÁÁ' (
true
ÁÁ) -
;
ÁÁ- .
}
ËË 	
private
ÍÍ 
void
ÍÍ 
ClickKickPlayer
ÍÍ $
(
ÍÍ$ %
object
ÍÍ% +
sender
ÍÍ, 2
,
ÍÍ2 3
RoutedEventArgs
ÍÍ4 C
e
ÍÍD E
)
ÍÍE F
{
ÎÎ 	
string
ÏÏ 
player
ÏÏ 
=
ÏÏ 
(
ÏÏ 
(
ÏÏ 
FrameworkElement
ÏÏ .
)
ÏÏ. /
sender
ÏÏ/ 5
)
ÏÏ5 6
.
ÏÏ6 7
DataContext
ÏÏ7 B
as
ÏÏC E
string
ÏÏF L
;
ÏÏL M
server
ÌÌ 
.
ÌÌ 

KickPlayer
ÌÌ 
(
ÌÌ 
player
ÌÌ $
,
ÌÌ$ %
gameName
ÌÌ& .
)
ÌÌ. /
;
ÌÌ/ 0
}
ÓÓ 	
public
 
void
 

StartRound
 
(
 
int
 "
idGame
# )
)
) *
{
ÒÒ 	

GameWindow
ÚÚ 

gameWindow
ÚÚ !
=
ÚÚ" #
new
ÚÚ$ '

GameWindow
ÚÚ( 2
(
ÚÚ2 3
idGame
ÚÚ3 9
,
ÚÚ9 :
username
ÚÚ; C
,
ÚÚC D
isHost
ÚÚE K
)
ÚÚK L
;
ÚÚL M

gameWindow
ÛÛ 
.
ÛÛ 
Show
ÛÛ 
(
ÛÛ 
)
ÛÛ 
;
ÛÛ 
this
ÙÙ 
.
ÙÙ 

menuWindow
ÙÙ 
.
ÙÙ 
Close
ÙÙ !
(
ÙÙ! "
)
ÙÙ" #
;
ÙÙ# $
}
ıı 	
private
˜˜ 
void
˜˜ 

LoadingRow
˜˜ 
(
˜˜  
object
˜˜  &
sender
˜˜' -
,
˜˜- .
System
˜˜/ 5
.
˜˜5 6
Collections
˜˜6 A
.
˜˜A B
Specialized
˜˜B M
.
˜˜M N.
 NotifyCollectionChangedEventArgs
˜˜N n
args
˜˜o s
)
˜˜s t
{
¯¯ 	
if
˘˘ 
(
˘˘ 
isHost
˘˘ 
)
˘˘ 
{
˙˙ 
if
˚˚ 
(
˚˚ 
PlayersGrid
˚˚ 
.
˚˚  
Items
˚˚  %
.
˚˚% &
Count
˚˚& +
==
˚˚, .
numberOfPlayers
˚˚/ >
)
˚˚> ?
StartGameButton
¸¸ #
.
¸¸# $
	IsEnabled
¸¸$ -
=
¸¸. /
true
¸¸0 4
;
¸¸4 5
else
˝˝ 
StartGameButton
˛˛ #
.
˛˛# $
	IsEnabled
˛˛$ -
=
˛˛. /
false
˛˛0 5
;
˛˛5 6
}
ˇˇ 
}
ÄÄ 	
}
ÅÅ 
}ÇÇ Íg
EC:\Users\ricar\Documents\GitHub\domino\DominoJuego\MenuWindow.xaml.cs
	namespace 	
Domino
 
{ 
public 

partial 
class 

MenuWindow #
:$ %
Window& ,
,, -
Proxy. 3
.3 4 
IChatServiceCallback4 H
{ 
private 
readonly 
object 
content  '
;' (
private 
readonly 
string 
username  (
;( )
private 
readonly 
Proxy 
. 
ChatServiceClient 0
server1 7
=8 9
null: >
;> ?
private 
readonly 
InstanceContext (
context) 0
=1 2
null3 7
;7 8
public 

MenuWindow 
( 
string  
username! )
)) *
{ 	
InitializeComponent 
(  
)  !
;! "
content 
= 
Content 
; 
this 
. 
username 
= 
username $
;$ %
context 
= 
new 
InstanceContext )
() *
this* .
). /
;/ 0
server 
= 
new 
Proxy 
. 
ChatServiceClient 0
(0 1
context1 8
)8 9
;9 :
Proxy 
. 
LoginServiceClient $
verificator% 0
=1 2
new3 6
Proxy7 <
.< =
LoginServiceClient= O
(O P
)P Q
;Q R
if 
( 
verificator 
. 

IsVerified &
(& '
username' /
)/ 0
)0 1
server 
. 
JoinChat 
(  
$num  !
,! "
username# +
)+ ,
;, -
else   
UserNotVerified!! 
(!!  
)!!  !
;!!! "
verificator## 
.## 
Close## 
(## 
)## 
;##  
}$$ 	
public&& 
void&& 
ReciveMessage&& !
(&&! "
string&&" (
username&&) 1
,&&1 2
string&&3 9
message&&: A
)&&A B
{'' 	
string(( 
format(( 
=(( 
$str((  
+((! "
username((# +
+((, -
$str((. 2
+((3 4
message((5 <
;((< =
ChatBox)) 
.)) 

AppendText)) 
()) 
format)) %
)))% &
;))& '
ChatBox** 
.** 
ScrollToEnd** 
(**  
)**  !
;**! "
}++ 	
private-- 
void-- 
	ClickPlay-- 
(-- 
object-- %
sender--& ,
,--, -
RoutedEventArgs--. =
e--> ?
)--? @
{.. 	#
JugarMultijugadorWindow// #!
playMultiplayerWindow//$ 9
=//: ;
new//< ?#
JugarMultijugadorWindow//@ W
(//W X
this//X \
,//\ ]
username//^ f
)//f g
;//g h
this00 
.00 
Content00 
=00 !
playMultiplayerWindow00 0
;000 1
}11 	
private33 
void33 
ClickSeeScores33 #
(33# $
object33$ *
sender33+ 1
,331 2
RoutedEventArgs333 B
e33C D
)33D E
{44 	
VerMarcadoresWindow55 
seeScoresWindow55  /
=550 1
new552 5
VerMarcadoresWindow556 I
(55I J
this55J N
)55N O
;55O P
this66 
.66 
Content66 
=66 
seeScoresWindow66 *
;66* +
}77 	
private99 
void99 
ClickChangePassword99 (
(99( )
object99) /
sender990 6
,996 7
RoutedEventArgs998 G
e99H I
)99I J
{:: 	$
CambiarContrase√±aWindow;; # 
changePasswordWindow;;$ 8
=;;9 :
new;;; >$
CambiarContrase√±aWindow;;? V
(;;V W
this;;W [
,;;[ \
username;;] e
);;e f
;;;f g
this<< 
.<< 
Content<< 
=<<  
changePasswordWindow<< /
;<</ 0
}== 	
public?? 
void?? 
GoBack?? 
(?? 
)?? 
{@@ 	
TextBoxChatAA 
.AA 
ClearAA 
(AA 
)AA 
;AA  
ChatBoxBB 
.BB 
ClearBB 
(BB 
)BB 
;BB 
ContentCC 
=CC 
contentCC 
;CC 
}DD 	
privateFF 
voidFF 
ClickLogOutFF  
(FF  !
objectFF! '
senderFF( .
,FF. /
	EventArgsFF0 9
eFF: ;
)FF; <
{GG 	

MainWindowHH 

mainWindowHH !
=HH" #
newHH$ '

MainWindowHH( 2
(HH2 3
)HH3 4
;HH4 5

mainWindowII 
.II 
ShowII 
(II 
)II 
;II 
thisJJ 
.JJ 
CloseJJ 
(JJ 
)JJ 
;JJ 
}KK 	
privateMM 
voidMM 
ClickIconChatMM "
(MM" #
objectMM# )
senderMM* 0
,MM0 1
	EventArgsMM2 ;
eMM< =
)MM= >
{NN 	
stringOO 
messageOO 
=OO 
TextBoxChatOO (
.OO( )
TextOO) -
;OO- .
ifPP 
(PP 
!PP 
stringPP 
.PP 
IsNullOrEmptyPP %
(PP% &
messagePP& -
)PP- .
)PP. /
{QQ 
serverRR 
.RR 
SendMessageRR "
(RR" #
$numRR# $
,RR$ %
messageRR& -
)RR- .
;RR. /
stringTT 
formatTT 
=TT 
$strTT  $
+TT% &

PropertiesTT' 1
.TT1 2
	ResourcesTT2 ;
.TT; <
YouTT< ?
+TT@ A
$strTTB F
+TTG H
messageTTI P
;TTP Q
ChatBoxUU 
.UU 

AppendTextUU "
(UU" #
formatUU# )
)UU) *
;UU* +
ChatBoxVV 
.VV 
ScrollToEndVV #
(VV# $
)VV$ %
;VV% &
TextBoxChatWW 
.WW 
ClearWW !
(WW! "
)WW" #
;WW# $
}XX 
}YY 	
private[[ 
void[[ 
IsEnter[[ 
([[ 
object[[ #
sender[[$ *
,[[* +
KeyEventArgs[[, 8
e[[9 :
)[[: ;
{\\ 	
if]] 
(]] 
e]] 
.]] 
Key]] 
==]] 
Key]] 
.]] 
Enter]] "
)]]" #
ClickIconChat^^ 
(^^ 
this^^ "
,^^" #
new^^$ '
	EventArgs^^( 1
(^^1 2
)^^2 3
)^^3 4
;^^4 5
}__ 	
privateaa 
boolaa 
_autoScrollaa  
=aa! "
trueaa# '
;aa' (
privatebb 
voidbb (
ScrollViewer_OnScrollChangedbb 1
(bb1 2
objectbb2 8
senderbb9 ?
,bb? @"
ScrollChangedEventArgsbbA W
ebbX Y
)bbY Z
{cc 	
ifdd 
(dd 
edd 
.dd 
ExtentHeightChangedd $
==dd% '
$numdd( )
)dd) *
_autoScrollee 
=ee 
ScrollVieweree *
.ee* +
VerticalOffsetee+ 9
==ee: <
ScrollVieweree= I
.eeI J
ScrollableHeighteeJ Z
;eeZ [
ifgg 
(gg 
_autoScrollgg 
&&gg 
egg  
.gg  !
ExtentHeightChangegg! 3
!=gg4 6
$numgg7 8
)gg8 9
ScrollViewerhh 
.hh "
ScrollToVerticalOffsethh 3
(hh3 4
ScrollViewerhh4 @
.hh@ A
ExtentHeighthhA M
)hhM N
;hhN O
}ii 	
privatekk 
voidkk 
UserNotVerifiedkk $
(kk$ %
)kk% &
{ll 	

ButtonChatmm 
.mm 
	IsEnabledmm  
=mm! "
falsemm# (
;mm( )
TextBoxChatnn 
.nn 
	IsEnablednn !
=nn" #
falsenn$ )
;nn) *
ButtonSeeScoresoo 
.oo 
	IsEnabledoo %
=oo& '
falseoo( -
;oo- . 
ButtonChangePasswordpp  
.pp  !
	IsEnabledpp! *
=pp+ ,
falsepp- 2
;pp2 3

ButtonPlayqq 
.qq 
	IsEnabledqq  
=qq! "
falseqq# (
;qq( )
TextBoxTokenss 
.ss 

Visibilityss #
=ss$ %

Visibilityss& 0
.ss0 1
Visibless1 8
;ss8 9
	IconTokentt 
.tt 

Visibilitytt  
=tt! "

Visibilitytt# -
.tt- .
Visiblett. 5
;tt5 6
ButtonValidateuu 
.uu 

Visibilityuu %
=uu& '

Visibilityuu( 2
.uu2 3
Visibleuu3 :
;uu: ;

LabelAlertvv 
.vv 
Contentvv 
=vv  

Propertiesvv! +
.vv+ ,
	Resourcesvv, 5
.vv5 6)
AccountHasNotBeenVerifiedTextvv6 S
;vvS T
}ww 	
privateyy 
voidyy 
ClickValidateyy "
(yy" #
objectyy# )
senderyy* 0
,yy0 1
	EventArgsyy2 ;
eyy< =
)yy= >
{zz 	
string{{ 
token{{ 
={{ 
TextBoxToken{{ '
.{{' (
Text{{( ,
;{{, -
if|| 
(|| 
!|| 
string|| 
.|| 
IsNullOrEmpty|| %
(||% &
token||& +
)||+ ,
)||, -
{}} 
Proxy~~ 
.~~ 
LoginServiceClient~~ (
verificator~~) 4
=~~5 6
new~~7 :
Proxy~~; @
.~~@ A
LoginServiceClient~~A S
(~~S T
)~~T U
;~~U V
bool 

isVerified 
=  !
verificator" -
.- .
VerificateUser. <
(< =
username= E
,E F
tokenG L
)L M
;M N
verificator
ÄÄ 
.
ÄÄ 
Close
ÄÄ !
(
ÄÄ! "
)
ÄÄ" #
;
ÄÄ# $
if
ÇÇ 
(
ÇÇ 

isVerified
ÇÇ 
)
ÇÇ 
{
ÉÉ 

ButtonChat
ÑÑ 
.
ÑÑ 
	IsEnabled
ÑÑ (
=
ÑÑ) *
true
ÑÑ+ /
;
ÑÑ/ 0
TextBoxChat
ÖÖ 
.
ÖÖ  
	IsEnabled
ÖÖ  )
=
ÖÖ* +
true
ÖÖ, 0
;
ÖÖ0 1
ButtonSeeScores
ÜÜ #
.
ÜÜ# $
	IsEnabled
ÜÜ$ -
=
ÜÜ. /
true
ÜÜ0 4
;
ÜÜ4 5"
ButtonChangePassword
áá (
.
áá( )
	IsEnabled
áá) 2
=
áá3 4
true
áá5 9
;
áá9 :

ButtonPlay
àà 
.
àà 
	IsEnabled
àà (
=
àà) *
true
àà+ /
;
àà/ 0
TextBoxToken
ää  
.
ää  !

Visibility
ää! +
=
ää, -

Visibility
ää. 8
.
ää8 9
	Collapsed
ää9 B
;
ääB C
	IconToken
ãã 
.
ãã 

Visibility
ãã (
=
ãã) *

Visibility
ãã+ 5
.
ãã5 6
	Collapsed
ãã6 ?
;
ãã? @
ButtonValidate
åå "
.
åå" #

Visibility
åå# -
=
åå. /

Visibility
åå0 :
.
åå: ;
	Collapsed
åå; D
;
ååD E

LabelAlert
çç 
.
çç 
Content
çç &
=
çç' (

Properties
çç) 3
.
çç3 4
	Resources
çç4 =
.
çç= >(
AccountHasBeenVerifiedText
çç> X
;
ççX Y
server
èè 
.
èè 
JoinChat
èè #
(
èè# $
$num
èè$ %
,
èè% &
username
èè' /
)
èè/ 0
;
èè0 1
}
êê 
else
ëë 

MessageBox
íí 
.
íí 
Show
íí #
(
íí# $

Properties
íí$ .
.
íí. /
	Resources
íí/ 8
.
íí8 9&
UnsuccessfulVerification
íí9 Q
)
ííQ R
;
ííR S
}
ìì 
else
îî 

MessageBox
ïï 
.
ïï 
Show
ïï 
(
ïï  

Properties
ïï  *
.
ïï* +
	Resources
ïï+ 4
.
ïï4 5
EmptyFields
ïï5 @
)
ïï@ A
;
ïïA B
}
ññ 	
}
óó 
}òò ™
UC:\Users\ricar\Documents\GitHub\domino\DominoJuego\RecuperarContrase√±aWindow.xaml.cs
	namespace 	
Domino
 
{ 
public 

partial 
class &
RecuperarContrase√±aWindow 2
:3 4
Page5 9
{ 
private 
readonly 

MainWindow #

mainWindow$ .
;. /
public &
RecuperarContrase√±aWindow (
(( )
)) *
{ 	
InitializeComponent 
(  
)  !
;! "
} 	
public &
RecuperarContrase√±aWindow (
(( )

MainWindow) 3

mainWindow4 >
)> ?
{ 	
InitializeComponent 
(  
)  !
;! "
this 
. 

mainWindow 
= 

mainWindow (
;( )
} 	
private 
void 
ClickCancel  
(  !
object! '
sender( .
,. /
RoutedEventArgs0 ?
e@ A
)A B
{ 	

mainWindow 
. 
GoBack 
( 
) 
;  
} 	
private 
void 
ClickRecover !
(! "
object" (
sender) /
,/ 0
RoutedEventArgs1 @
eA B
)B C
{ 	
string 
email 
= 
TextBoxEmail '
.' (
Text( ,
;, -
if   
(   
!   
string   
.   
IsNullOrEmpty   %
(  % &
email  & +
)  + ,
)  , -
{!! 
String"" 
emailFormat"" "
=""# $
$str""% Z
;""Z [
if## 
(## 
Regex## 
.## 
IsMatch## !
(##! "
email##" '
,##' (
emailFormat##) 4
)##4 5
)##5 6
{$$ 
Proxy%% 
.%% 
LoginServiceClient%% ,
server%%- 3
=%%4 5
new%%6 9
Proxy%%: ?
.%%? @
LoginServiceClient%%@ R
(%%R S
)%%S T
;%%T U
bool&& 
isValid&&  
=&&! "
server&&# )
.&&) *
RecoverPassword&&* 9
(&&9 :
email&&: ?
)&&? @
;&&@ A
server'' 
.'' 
Close''  
(''  !
)''! "
;''" #
if(( 
((( 
isValid(( 
)((  
{)) 

MessageBox** "
.**" #
Show**# '
(**' (

Properties**( 2
.**2 3
	Resources**3 <
.**< =
	EmailSent**= F
+**G H
email**I N
)**N O
;**O P

mainWindow++ "
.++" #
GoBack++# )
(++) *
)++* +
;+++ ,
},, 
else,, 

LabelAlert-- "
.--" #
Content--# *
=--+ ,

Properties--- 7
.--7 8
	Resources--8 A
.--A B
AccountNotFound--B Q
;--Q R
}.. 
else// 

LabelAlert00 
.00 
Content00 &
=00' (

Properties00) 3
.003 4
	Resources004 =
.00= >
InvalidEmail00> J
;00J K
}11 
else22 

LabelAlert33 
.33 
Content33 "
=33# $

Properties33% /
.33/ 0
	Resources330 9
.339 :
EmptyFields33: E
;33E F
}44 	
}55 
}66 ûH
LC:\Users\ricar\Documents\GitHub\domino\DominoJuego\RegistrarseWindow.xaml.cs
	namespace 	
Domino
 
{ 
public 

partial 
class 
RegistrarseWindow *
:+ ,
Page- 1
{ 
private 
readonly 

MainWindow #

mainWindow$ .
;. /
string 
user 
; 
public 
RegistrarseWindow  
(  !
)! "
{ 	
InitializeComponent 
(  
)  !
;! "
} 	
public 
RegistrarseWindow  
(  !

MainWindow! +

mainWindow, 6
)6 7
{ 	
InitializeComponent 
(  
)  !
;! "
this 
. 

mainWindow 
= 

mainWindow (
;( )
} 	
private 
void 
ClickCancel  
(  !
object! '
sender( .
,. /
RoutedEventArgs0 ?
e@ A
)A B
{ 	

mainWindow 
. 
GoBack 
( 
) 
;  
} 	
private   
void   
ClickRegister   "
(  " #
object  # )
sender  * 0
,  0 1
RoutedEventArgs  2 A
e  B C
)  C D
{!! 	
string"" 
username"" 
="" 
TextBoxUsername"" -
.""- .
Text"". 2
;""2 3
string## 
email## 
=## 
TextBoxEmail## '
.##' (
Text##( ,
;##, -
string$$ 
password$$ 
=$$ 
TextBoxPassword$$ -
.$$- .
Password$$. 6
;$$6 7
string%%  
passwordConfirmation%% '
=%%( )'
TextBoxPasswordConfirmation%%* E
.%%E F
Password%%F N
;%%N O
if'' 
('' 
!'' 
string'' 
.'' 
IsNullOrEmpty'' %
(''% &
username''& .
)''. /
&&''0 2
!''3 4
string''4 :
.'': ;
IsNullOrEmpty''; H
(''H I
email''I N
)''N O
&&''P R
!''S T
string''T Z
.''Z [
IsNullOrEmpty''[ h
(''h i
password''i q
)''q r
&&''s u
!''v w
string''w }
.''} ~
IsNullOrEmpty	''~ ã
(
''ã å"
passwordConfirmation
''å †
)
''† °
)
''° ¢
{(( 
String)) 
sFormato)) 
=))  !
$str))" W
;))W X
if** 
(** 
Regex** 
.** 
IsMatch** !
(**! "
email**" '
,**' (
sFormato**) 1
)**1 2
)**2 3
{++ 
if,, 
(,, 
password,,  
.,,  !
Equals,,! '
(,,' ( 
passwordConfirmation,,( <
),,< =
),,= >
{-- 
Proxy.. 
... 
LoginServiceClient.. 0
server..1 7
=..8 9
new..: =
Proxy..> C
...C D
LoginServiceClient..D V
(..V W
)..W X
;..X Y
bool// 
isValid// $
=//% &
server//' -
.//- .
SignUp//. 4
(//4 5
username//5 =
,//= >
email//? D
,//D E
password//F N
)//N O
;//O P
server00 
.00 
Close00 $
(00$ %
)00% &
;00& '
if11 
(11 
isValid11 #
)11# $
{22 
user33  
=33! "
username33# +
;33+ ,
ShowValidateSection44 /
(44/ 0
)440 1
;441 2
}55 
else66 

LabelAlert77 &
.77& '
Content77' .
=77/ 0

Properties771 ;
.77; <
	Resources77< E
.77E F
ExistingMail77F R
;77R S
}88 
else99 

LabelAlert:: "
.::" #
Content::# *
=::+ ,

Properties::- 7
.::7 8
	Resources::8 A
.::A B
PasswordsDoNotMatch::B U
;::U V
};; 
else<< 

LabelAlert== 
.== 
Content== &
===' (

Properties==) 3
.==3 4
	Resources==4 =
.=== >
InvalidEmail==> J
;==J K
}>> 
else?? 

LabelAlert@@ 
.@@ 
Content@@ "
=@@# $

Properties@@% /
.@@/ 0
	Resources@@0 9
.@@9 :
EmptyFields@@: E
;@@E F
}AA 	
privateCC 
voidCC 
ShowValidateSectionCC (
(CC( )
)CC) *
{DD 	
ValidateButtonEE 
.EE 

VisibilityEE %
=EE& '

VisibilityEE( 2
.EE2 3
VisibleEE3 :
;EE: ;
ValidateIconFF 
.FF 

VisibilityFF #
=FF$ %

VisibilityFF& 0
.FF0 1
VisibleFF1 8
;FF8 9
TextBoxTokenGG 
.GG 

VisibilityGG #
=GG$ %

VisibilityGG& 0
.GG0 1
VisibleGG1 8
;GG8 9
AnotherTimeButtonHH 
.HH 

VisibilityHH (
=HH) *

VisibilityHH+ 5
.HH5 6
VisibleHH6 =
;HH= >
UsernameIconJJ 
.JJ 

VisibilityJJ #
=JJ$ %

VisibilityJJ& 0
.JJ0 1
HiddenJJ1 7
;JJ7 8
TextBoxUsernameKK 
.KK 

VisibilityKK &
=KK' (

VisibilityKK) 3
.KK3 4
HiddenKK4 :
;KK: ;
	EmailIconLL 
.LL 

VisibilityLL  
=LL! "

VisibilityLL# -
.LL- .
HiddenLL. 4
;LL4 5
TextBoxEmailMM 
.MM 

VisibilityMM #
=MM$ %

VisibilityMM& 0
.MM0 1
HiddenMM1 7
;MM7 8
PasswordIconNN 
.NN 

VisibilityNN #
=NN$ %

VisibilityNN& 0
.NN0 1
HiddenNN1 7
;NN7 8
TextBoxPasswordOO 
.OO 

VisibilityOO &
=OO' (

VisibilityOO) 3
.OO3 4
HiddenOO4 :
;OO: ;$
PasswordConfirmationIconPP $
.PP$ %

VisibilityPP% /
=PP0 1

VisibilityPP2 <
.PP< =
HiddenPP= C
;PPC D'
TextBoxPasswordConfirmationQQ '
.QQ' (

VisibilityQQ( 2
=QQ3 4

VisibilityQQ5 ?
.QQ? @
HiddenQQ@ F
;QQF G
}RR 	
privateTT 
voidTT 
ClickAnotherTimeTT %
(TT% &
objectTT& ,
senderTT- 3
,TT3 4
RoutedEventArgsTT5 D
eTTE F
)TTF G
{UU 	

mainWindowVV 
.VV 
GoBackVV 
(VV 
)VV 
;VV  
}WW 	
privateYY 
voidYY 
ClickValidateYY "
(YY" #
objectYY# )
senderYY* 0
,YY0 1
RoutedEventArgsYY2 A
eYYB C
)YYC D
{ZZ 	
string[[ 
token[[ 
=[[ 
TextBoxToken[[ '
.[[' (
Text[[( ,
;[[, -
if\\ 
(\\ 
!\\ 
string\\ 
.\\ 
IsNullOrEmpty\\ %
(\\% &
token\\& +
)\\+ ,
)\\, -
{]] 
Proxy^^ 
.^^ 
LoginServiceClient^^ (
server^^) /
=^^0 1
new^^2 5
Proxy^^6 ;
.^^; <
LoginServiceClient^^< N
(^^N O
)^^O P
;^^P Q
bool__ 

isVerified__ 
=__  !
server__" (
.__( )
VerificateUser__) 7
(__7 8
user__8 <
,__< =
token__> C
)__C D
;__D E
server`` 
.`` 
Close`` 
(`` 
)`` 
;`` 
ifbb 
(bb 

isVerifiedbb 
)bb 
{cc 

MessageBoxdd 
.dd 
Showdd #
(dd# $

Propertiesdd$ .
.dd. /
	Resourcesdd/ 8
.dd8 9"
SuccessfulVerificationdd9 O
)ddO P
;ddP Q

mainWindowee 
.ee 
GoBackee %
(ee% &
)ee& '
;ee' (
}ff 
elsegg 

LabelAlerthh 
.hh 
Contenthh &
=hh' (

Propertieshh) 3
.hh3 4
	Resourceshh4 =
.hh= >$
UnsuccessfulVerificationhh> V
;hhV W
}ii 
elsejj 

LabelAlertkk 
.kk 
Contentkk "
=kk# $

Propertieskk% /
.kk/ 0
	Resourceskk0 9
.kk9 :
EmptyFieldskk: E
;kkE F
}ll 	
}mm 
}nn µ
NC:\Users\ricar\Documents\GitHub\domino\DominoJuego\VerMarcadoresWindow.xaml.cs
	namespace 	
Domino
 
{ 
public		 

partial		 
class		 
VerMarcadoresWindow		 ,
:		- .
Page		/ 3
{

 
private 
readonly 

MenuWindow #

menuWindow$ .
;. /
public 
VerMarcadoresWindow "
(" #
)# $
{ 	
InitializeComponent 
(  
)  !
;! "
} 	
public 
VerMarcadoresWindow "
(" #

MenuWindow# -

menuWindow. 8
)8 9
{ 	
InitializeComponent 
(  
)  !
;! "
this 
. 

menuWindow 
= 

menuWindow (
;( )
Proxy 
. 
MenuServiceClient #
server$ *
=+ ,
new- 0
Proxy1 6
.6 7
MenuServiceClient7 H
(H I
)I J
;J K
var 
playersList 
= 
server $
.$ %
	GetScores% .
(. /
)/ 0
;0 1
server 
. 
Close 
( 
) 
; 
DataContext 
= 
playersList %
;% &
} 	
private 
void 
ClickRegresar "
(" #
object# )
sender* 0
,0 1
RoutedEventArgs2 A
eB C
)C D
{ 	

menuWindow   
.   
GoBack   
(   
)   
;    
}!! 	
}"" 
}## Ñ	
>C:\Users\ricar\Documents\GitHub\domino\DominoJuego\App.xaml.cs
	namespace 	
Domino
 
{ 
public 

partial 
class 
App 
: 
Application *
{ 
App 
( 
) 
{ 	
string 
currentLanguage "
=# $
System% +
.+ ,
Globalization, 9
.9 :
CultureInfo: E
.E F
CurrentCultureF T
.T U
EnglishNameU `
;` a
if 
( 
currentLanguage 
.  
Contains  (
(( )
$str) 2
)2 3
)3 4
System 
. 
	Threading  
.  !
Thread! '
.' (
CurrentThread( 5
.5 6
CurrentUICulture6 F
=G H
newI L
SystemM S
.S T
GlobalizationT a
.a b
CultureInfob m
(m n
$strn r
)r s
;s t
} 	
} 
} Ó-
EC:\Users\ricar\Documents\GitHub\domino\DominoJuego\MainWindow.xaml.cs
	namespace 	
Domino
 
{ 
public 

partial 
class 

MainWindow #
:$ %
Window& ,
{ 
private 
readonly 
object 
content  '
;' (
public 

MainWindow 
( 
) 
{ 	
InitializeComponent 
(  
)  !
;! "
content 
= 
Content 
; 
} 	
private 
void 

ClickLogIn 
(  
object  &
sender' -
,- .
RoutedEventArgs/ >
e? @
)@ A
{ 	
string 
email 
= 
TextBoxEmail '
.' (
Text( ,
;, -
string 
password 
= 
TextBoxPassword -
.- .
Password. 6
;6 7
if 
( 
! 
string 
. 
IsNullOrEmpty %
(% &
email& +
)+ ,
&&- /
!0 1
string1 7
.7 8
IsNullOrEmpty8 E
(E F
passwordF N
)N O
)O P
{ 
String 
emailFormat "
=# $
$str% Z
;Z [
if 
( 
Regex 
. 
IsMatch !
(! "
email" '
,' (
emailFormat) 4
)4 5
)5 6
{ 
Proxy 
. 
LoginServiceClient ,
server- 3
=4 5
new6 9
Proxy: ?
.? @
LoginServiceClient@ R
(R S
)S T
;T U
string   
isValid   "
=  # $
server  % +
.  + ,
LogIn  , 1
(  1 2
email  2 7
,  7 8
password  9 A
)  A B
;  B C
server!! 
.!! 
Close!!  
(!!  !
)!!! "
;!!" #
if"" 
("" 
!"" 
string"" 
.""  
IsNullOrEmpty""  -
(""- .
isValid"". 5
)""5 6
)""6 7
{## 

MenuWindow$$ "
sesion$$# )
=$$* +
new$$, /

MenuWindow$$0 :
($$: ;
isValid$$; B
)$$B C
;$$C D
sesion%% 
.%% 
Show%% #
(%%# $
)%%$ %
;%%% &
this&& 
.&& 
Close&& "
(&&" #
)&&# $
;&&$ %
}'' 
else(( 

LabelAlert)) "
.))" #
Content))# *
=))+ ,

Properties))- 7
.))7 8
	Resources))8 A
.))A B
NoMatch))B I
;))I J
}** 
else++ 

LabelAlert,, 
.,, 
Content,, &
=,,' (

Properties,,) 3
.,,3 4
	Resources,,4 =
.,,= >
InvalidEmail,,> J
;,,J K
}-- 
else.. 

LabelAlert// 
.// 
Content// "
=//# $

Properties//% /
./// 0
	Resources//0 9
.//9 :
EmptyFields//: E
;//E F
}00 	
private22 
void22 
ClickSignUp22  
(22  !
object22! '
sender22( .
,22. /
RoutedEventArgs220 ?
e22@ A
)22A B
{33 	
RegistrarseWindow44 
registerWindow44 ,
=44- .
new44/ 2
RegistrarseWindow443 D
(44D E
this44E I
)44I J
;44J K
Navegate55 
(55 
registerWindow55 #
)55# $
;55$ %
}66 	
private88 
void88 
IsEnter88 
(88 
object88 #
sender88$ *
,88* +
KeyEventArgs88, 8
e889 :
)88: ;
{99 	
if:: 
(:: 
e:: 
.:: 
Key:: 
==:: 
Key:: 
.:: 
Enter:: "
)::" #

ClickLogIn;; 
(;; 
this;; 
,;;  
new;;! $
RoutedEventArgs;;% 4
(;;4 5
);;5 6
);;6 7
;;;7 8
}<< 	
private>> 
void>> 
ClickRecover>> !
(>>! "
object>>" (
sender>>) /
,>>/ 0 
MouseButtonEventArgs>>1 E
e>>F G
)>>G H
{?? 	&
RecuperarContrase√±aWindow@@ %
recoverWindow@@& 3
=@@4 5
new@@6 9&
RecuperarContrase√±aWindow@@: S
(@@S T
this@@T X
)@@X Y
;@@Y Z
NavegateAA 
(AA 
recoverWindowAA "
)AA" #
;AA# $
}BB 	
publicDD 
voidDD 
GoBackDD 
(DD 
)DD 
{EE 	
TextBoxEmailFF 
.FF 
ClearFF 
(FF 
)FF  
;FF  !
TextBoxPasswordGG 
.GG 
ClearGG !
(GG! "
)GG" #
;GG# $

LabelAlertHH 
.HH 
ContentHH 
=HH  
$strHH! #
;HH# $
ContentII 
=II 
contentII 
;II 
}JJ 	
publicLL 
voidLL 
NavegateLL 
(LL 
PageLL !
pageLL" &
)LL& '
{MM 	
thisNN 
.NN 
ContentNN 
=NN 
pageNN 
;NN  
}OO 	
}PP 
}QQ î
MC:\Users\ricar\Documents\GitHub\domino\DominoJuego\Properties\AssemblyInfo.cs
[ 
assembly 	
:	 

AssemblyTitle 
( 
$str !
)! "
]" #
[		 
assembly		 	
:			 

AssemblyDescription		 
(		 
$str		 !
)		! "
]		" #
[

 
assembly

 	
:

	 
!
AssemblyConfiguration

  
(

  !
$str

! #
)

# $
]

$ %
[ 
assembly 	
:	 

AssemblyCompany 
( 
$str $
)$ %
]% &
[ 
assembly 	
:	 

AssemblyProduct 
( 
$str #
)# $
]$ %
[ 
assembly 	
:	 

AssemblyCopyright 
( 
$str 7
)7 8
]8 9
[ 
assembly 	
:	 

AssemblyTrademark 
( 
$str 
)  
]  !
[ 
assembly 	
:	 

AssemblyCulture 
( 
$str 
) 
] 
[ 
assembly 	
:	 


ComVisible 
( 
false 
) 
] 
[   
assembly   	
:  	 

	ThemeInfo   
(   &
ResourceDictionaryLocation!! 
.!! 
None!! #
,!!# $&
ResourceDictionaryLocation$$ 
.$$ 
SourceAssembly$$ -
)'' 
]'' 
[44 
assembly44 	
:44	 

AssemblyVersion44 
(44 
$str44 $
)44$ %
]44% &
[55 
assembly55 	
:55	 

AssemblyFileVersion55 
(55 
$str55 (
)55( )
]55) *